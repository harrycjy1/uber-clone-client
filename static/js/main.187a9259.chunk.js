(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{162:function(e,n,a){"use strict";a.r(n);var t=a(0),r=a.n(t),o=a(29),i=a.n(o),c=a(11),l=a(83),d=a(1),u=a(13);function s(){var e=Object(d.a)(["\n  {\n    auth {\n      isLoggedIn @client\n    }\n  }\n"]);return s=function(){return e},e}var m=Object(u.a)(s()),f=a(18),p=a(35),g=a(21),b=a(15),h=a(6),v=a(8),O=a(7),j=a(9),E=a(19),y=a.n(E),_=a(22),x=_,k=x.default,C=(x.css,x.createGlobalStyle),S=(x.keyframes,x.ThemeProvider,k);function I(){var e=Object(d.a)(["\n  border: none;\n  border-bottom: 2px solid ",";\n  font-size: 20px;\n  width: 100%;\n  padding-bottom: 10px;\n  font-weight: 500;\n  transition: border-bottom 0.1s linear;\n  &:-webkit-autofill {\n    box-shadow: 0 0 0px 1000px white inset !important;\n  }\n  &:focus {\n    border-bottom-color: #2c3e50;\n    outline: none;\n  }\n  &::placeholder {\n    color: ",";\n    font-weight: 300;\n  }\n"]);return I=function(){return e},e}var w=S.input(I(),function(e){return e.theme.greyColor},function(e){return e.theme.greyColor}),N=function(e){var n=e.placeholder,a=void 0===n?"":n,t=e.type,o=void 0===t?"text":t,i=e.required,c=void 0===i||i,l=e.value,d=e.name,u=void 0===d?"":d,s=e.onChange,m=e.className;return r.a.createElement(w,{className:m,onChange:s,name:u,placeholder:a,required:c,type:o,value:l})};function M(){var e=Object(d.a)(["\n  transform: scale(0.8);\n"]);return M=function(){return e},e}var A=S.div(M()),P=function(e){var n=e.backTo,a=e.className;return r.a.createElement(A,{className:a},r.a.createElement(f.b,{to:n},r.a.createElement("svg",{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd"},r.a.createElement("path",{d:"M20 .755l-14.374 11.245 14.374 11.219-.619.781-15.381-12 15.391-12 .609.755z"}))))};function R(){var e=Object(d.a)(["\n  margin-left: 10px;\n"]);return R=function(){return e},e}function G(){var e=Object(d.a)(["\n  background-color: black;\n  color: white;\n  display: flex;\n  height: 50px;\n  font-size: 20px;\n  font-weight: 300;\n  align-items: center;\n  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.19), 0 6px 6px rgba(0, 0, 0, 0.23);\n  & svg {\n    fill: white;\n  }\n  margin-bottom: 50px;\n  padding: 0 10px;\n"]);return G=function(){return e},e}var D=S.header(G()),F=S.h2(R()),L=function(e){var n=e.title,a=e.backTo;return r.a.createElement(D,null,a&&r.a.createElement(P,{backTo:a}),r.a.createElement(F,null,n))},T=function(e){var n=e.submitFn,a=e.className,t=e.children;return r.a.createElement("form",{className:a,onSubmit:function(e){e.preventDefault(),n()}},t)};function B(){var e=Object(d.a)(["\n  width: 100%;\n  background-color: black;\n  color: white;\n  text-transform: uppercase;\n  padding: 15px 0;\n  font-size: 16px;\n  border: 0;\n  cursor: pointer;\n  font-weight: 500;\n  text-align: center;\n  &:active,\n  &:focus {\n    outline: none;\n  }\n  &:disabled {\n    opacity: 0.8;\n  }\n"]);return B=function(){return e},e}var U=S.input(B()),$=function(e){var n=e.value,a=e.onClick,t=e.disabled,o=void 0!==t&&t,i=e.className;return r.a.createElement(U,{value:n,onClick:a,disabled:o,type:"submit",className:i})};function z(){var e=Object(d.a)(["\n  text-decoration: underline;\n  margin-bottom: 20px;\n  display: block;\n"]);return z=function(){return e},e}function K(){var e=Object(d.a)(["\n  margin-bottom: 40px;\n"]);return K=function(){return e},e}function q(){var e=Object(d.a)(["\n  padding: 0 40px;\n"]);return q=function(){return e},e}var V=S.div(q()),H=S(N)(K()),W=S(f.b)(z()),Q=function(e){var n=e.name,a=e.address,t=e.onInputChange,o=e.onSubmit,i=e.loading,c=e.pickedAddress;return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,null,r.a.createElement("title",null,"Add Place | Uber")),r.a.createElement(L,{backTo:"/",title:"Add Place"}),r.a.createElement(V,null,r.a.createElement(T,{submitFn:o},r.a.createElement(H,{type:"text",placeholder:"Name",onChange:t,value:n,name:"name"}),r.a.createElement(H,{type:"text",placeholder:"Address",onChange:t,value:a,name:"address"}),r.a.createElement(W,{to:"/find-address"},"Pick place from map"),c&&r.a.createElement($,{onClick:null,value:i?"Adding Place":"Add Place"}))))};function J(){var e=Object(d.a)(["\n  mutation addPlace(\n    $name: String!\n    $lat: Float!\n    $lng: Float!\n    $address: String!\n    $isFav: Boolean!\n  ) {\n    AddPlace(\n      name: $name\n      lat: $lat\n      lng: $lng\n      address: $address\n      isFav: $isFav\n    ) {\n      ok\n      error\n    }\n  }\n"]);return J=function(){return e},e}var Z=Object(u.a)(J());function Y(){var e=Object(d.a)(["\n  query getPlaces {\n    GetMyPlaces {\n      ok\n      error\n      places {\n        id\n        name\n        address\n        isFav\n      }\n    }\n  }\n"]);return Y=function(){return e},e}function X(){var e=Object(d.a)(["\n  query userProfile {\n    GetMyProfile {\n      ok\n      error\n      user {\n        id\n        profilePhoto\n        firstName\n        lastName\n        fullName\n        isDriving\n        email\n      }\n    }\n  }\n"]);return X=function(){return e},e}var ee=Object(u.a)(X()),ne=Object(u.a)(Y()),ae=a(12),te=function(e){function n(){return Object(h.a)(this,n),Object(v.a)(this,Object(O.a)(n).apply(this,arguments))}return Object(j.a)(n,e),n}(c.b),re=function(e){function n(e){var a;Object(h.a)(this,n),(a=Object(v.a)(this,Object(O.a)(n).call(this,e))).onInputChange=function(e){var n=e.target,t=n.name,r=n.value;a.setState(Object(g.a)({},t,r))};var t=a.props.location,r=(t=void 0===t?{}:t).state,o=void 0===r?{}:r;return a.state={address:o.address||"",lat:o.lat||0,lng:o.lng||0,name:""},a}return Object(j.a)(n,e),Object(b.a)(n,[{key:"render",value:function(){var e=this,n=this.state,a=n.name,t=n.address,o=n.lng,i=n.lat,c=this.props.history;return r.a.createElement(te,{mutation:Z,variables:{name:a,address:t,lng:o,lat:i,isFav:!1},refetchQueries:[{query:ne}],onCompleted:function(e){var n=e.AddPlace;n.ok?(ae.b.success("Place Added!"),setTimeout(function(){c.push("/places")},2e3)):ae.b.error(n.error)}},function(n,c){var l=c.loading;return r.a.createElement(Q,{name:a,address:t,onInputChange:e.onInputChange,onSubmit:n,loading:l,pickedAddress:0!==i&&0!==o})})}}]),n}(r.a.Component),oe=a(17),ie=a.n(oe),ce=a(23),le=a(46),de=a.n(le);function ue(){var e=Object(d.a)(["\n  color: white;\n  opacity: 0;\n  height: 1px;\n  &:focus {\n    outline: none;\n  }\n"]);return ue=function(){return e},e}function se(){var e=Object(d.a)(["\n  cursor: pointer;\n  height: 80px;\n  width: 80px;\n  border: 2px solid black;\n  display: block;\n  border-radius: 50%;\n  margin-bottom: 35px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 28px;\n  overflow: hidden;\n  & img {\n    width: 80px;\n    height: 80px;\n  }\n"]);return se=function(){return e},e}function me(){var e=Object(d.a)([""]);return me=function(){return e},e}var fe=S.div(me()),pe=S.label(se()),ge=S.input(ue()),be=function(e){var n=e.uploading,a=e.fileUrl,t=e.onChange;return r.a.createElement(fe,null,r.a.createElement(ge,{id:"photo",type:"file",accept:"image/*",onChange:t}),r.a.createElement(pe,{htmlFor:"photo"},n&&"\u23f0",!n&&r.a.createElement("img",{src:a})))};function he(){var e=Object(d.a)(["\n  margin-bottom: 30px;\n"]);return he=function(){return e},e}function ve(){var e=Object(d.a)(["\n  padding: 0px 40px;\n"]);return ve=function(){return e},e}function Oe(){var e=Object(d.a)([""]);return Oe=function(){return e},e}var je=S.div(Oe()),Ee=S(T)(ve()),ye=S(N)(he()),_e=function(e){var n=e.firstName,a=e.lastName,t=e.email,o=e.onSubmit,i=e.profilePhoto,c=e.onInputChange,l=e.loading,d=e.uploading;return r.a.createElement(je,null,r.a.createElement(y.a,null,r.a.createElement("title",null,"Edit Account | Number")),r.a.createElement(L,{title:"Edit Account",backTo:"/"}),r.a.createElement(Ee,{submitFn:o},r.a.createElement(be,{uploading:d,onChange:c,fileUrl:i}),r.a.createElement(ye,{onChange:c,type:"text",value:n,placeholder:"First name",name:"firstName"}),r.a.createElement(ye,{onChange:c,type:"text",value:a,placeholder:"Last name",name:"lastName"}),r.a.createElement(ye,{onChange:c,type:"email",value:t,placeholder:"Email",name:"email"}),r.a.createElement($,{value:l?"Loading":"Update"})))};function xe(){var e=Object(d.a)(["\n  mutation updateProfile(\n    $firstName: String!\n    $lastName: String!\n    $email: String!\n    $profilePhoto: String!\n  ) {\n    UpdateMyProfile(\n      firstName: $firstName\n      lastName: $lastName\n      email: $email\n      profilePhoto: $profilePhoto\n    ) {\n      ok\n      error\n    }\n  }\n"]);return xe=function(){return e},e}var ke=Object(u.a)(xe()),Ce=a(165),Se=function(e){function n(){return Object(h.a)(this,n),Object(v.a)(this,Object(O.a)(n).apply(this,arguments))}return Object(j.a)(n,e),n}(c.b),Ie=function(e){function n(){var e,a;Object(h.a)(this,n);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return(a=Object(v.a)(this,(e=Object(O.a)(n)).call.apply(e,[this].concat(i)))).state={email:"",firstName:"",lastName:"",profilePhoto:"",didFetch:!1,uploading:!1},a.ProfileQuery=function(){var e=a.state,n=e.email,o=e.firstName,i=e.lastName,c=e.profilePhoto,l=e.didFetch,d=e.uploading,u=Object(Ce.a)(ee,{skip:l}),s=u.data,m=u.loading;return Object(t.useEffect)(function(){var e=function(e){return a.updateFields(e)};e&&e(s)},[s,m]),r.a.createElement(Se,{mutation:ke,refetchQueries:[{query:ee}],onCompleted:function(e){var n=e.UpdateMyProfile;n.ok?ae.b.success("Profile updated!"):n.error&&ae.b.error(n.error)},variables:{email:n,firstName:o,lastName:i,profilePhoto:c}},function(e,t){var l=t.loading;return r.a.createElement(_e,{email:n,firstName:o,lastName:i,profilePhoto:c,onInputChange:a.onInputChange,loading:l,onSubmit:e,uploading:d})})},a.onInputChange=function(){var e=Object(ce.a)(ie.a.mark(function e(n){var t,r,o,i,c,l,d;return ie.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.target,r=t.name,o=t.value,!(i=t.files)){e.next=13;break}return a.setState({uploading:!0}),(c=new FormData).append("file",i[0]),c.append("api_key","879246383158587"),c.append("upload_preset","ml_default"),c.append("timestamp",String(Date.now()/1e3)),e.next=10,de.a.post("https://api.cloudinary.com/v1_1/choddolcloud/image/upload",c);case 10:l=e.sent,(d=l.data.secure_url)&&a.setState({profilePhoto:d,uploading:!1});case 13:a.setState(Object(g.a)({},r,o));case 14:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}(),a.updateFields=function(e){if(e){var n=e.GetMyProfile;if(n){var t=n.user;if(t){var r=t.firstName,o=t.lastName,i=t.email,c=t.profilePhoto;a.setState({firstName:r,lastName:o,email:i,profilePhoto:c,didFetch:!0})}}}},a}return Object(j.a)(n,e),Object(b.a)(n,[{key:"render",value:function(){return r.a.createElement(this.ProfileQuery,null)}}]),n}(r.a.Component),we=a(54),Ne=a(47);function Me(){var e=Object(d.a)(["\n  -webkit-appearance: none;\n  background-color: ",";\n  width: 100%;\n  color: white;\n  font-size: 18px;\n  border: 0;\n  padding: 15px 0px;\n  cursor: pointer;\n"]);return Me=function(){return e},e}function Ae(){var e=Object(d.a)(["\n  display: grid;\n  grid-template-columns: 1fr 2fr;\n  grid-gap: 10px;\n  height: 100%;\n  align-items: center;\n"]);return Ae=function(){return e},e}function Pe(){var e=Object(d.a)(["\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n"]);return Pe=function(){return e},e}function Re(){var e=Object(d.a)(["\n  font-size: 18px;\n  color: white;\n"]);return Re=function(){return e},e}function Ge(){var e=Object(d.a)(["\n  font-size: 22px;\n  color: white;\n  margin-bottom: 10px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]);return Ge=function(){return e},e}function De(){var e=Object(d.a)(["\n  height: 80px;\n  width: 80px;\n  background-color: grey;\n  border-radius: 40px;\n  overflow: hidden;\n"]);return De=function(){return e},e}function Fe(){var e=Object(d.a)(["\n  font-size: 22px;\n  display: block;\n  margin-left: 15px;\n  margin-bottom: 25px;\n  font-weight: 400;\n"]);return Fe=function(){return e},e}function Le(){var e=Object(d.a)(["\n  background-color: black;\n  height: 20%;\n  margin-bottom: 30px;\n  padding: 0 15px;\n  color: white;\n"]);return Le=function(){return e},e}function Te(){var e=Object(d.a)(["\n  height: 100%;\n"]);return Te=function(){return e},e}var Be=S.div(Te()),Ue=S.div(Le()),$e=S(f.b)(Fe()),ze=S.img(De()),Ke=S.h2(Ge()),qe=S.h5(Re()),Ve=S.span(Pe()),He=S.div(Ae()),We=S.button(Me(),function(e){return e.isDriving?e.theme.yellowColor:e.theme.greenColor}),Qe=function(e){var n=e.data,a=e.loading,t=e.toggleDrivingFn,o=n.GetMyProfile;return r.a.createElement(Be,null,!a&&o.user&&o.user.fullName&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Ue,null,r.a.createElement(He,null,r.a.createElement(f.b,{to:"/edit-account"},r.a.createElement(ze,{src:o.user.profilePhoto||"https://lh3.googleusercontent.com/-CTwXMuZRaWw/AAAAAAAAAAI/AAAAAAAAAUg/8T5nFuIdnHE/photo.jpg"})),r.a.createElement(Ve,null,r.a.createElement(Ke,null,o.user.fullName),r.a.createElement(qe,null,"4.5")))),r.a.createElement($e,{to:"/trips"},"Your Trips"),r.a.createElement($e,{to:"/settings"},"Settings"),r.a.createElement(We,{onClick:t,isDriving:o.user.isDriving},o.user.isDriving?"Stop driving":"Start driving")))};function Je(){var e=Object(d.a)(["\n  mutation toggleDriving {\n    ToggleDrivingMode {\n      ok\n      error\n    }\n  }\n"]);return Je=function(){return e},e}var Ze=Object(u.a)(Je()),Ye=function(e){function n(){return Object(h.a)(this,n),Object(v.a)(this,Object(O.a)(n).apply(this,arguments))}return Object(j.a)(n,e),n}(c.c),Xe=function(e){function n(){return Object(h.a)(this,n),Object(v.a)(this,Object(O.a)(n).apply(this,arguments))}return Object(j.a)(n,e),n}(c.b),en=function(e){function n(){return Object(h.a)(this,n),Object(v.a)(this,Object(O.a)(n).apply(this,arguments))}return Object(j.a)(n,e),Object(b.a)(n,[{key:"render",value:function(){return r.a.createElement(Xe,{mutation:Ze,update:function(e,n){var a=n.data;if(a){var t=a.ToggleDrivingMode;t.ok||ae.b.error(t.error)}var r=e.readQuery({query:ee});if(r){var o=r.GetMyProfile.user;o&&(o.isDriving=!o.isDriving),e.writeQuery({query:ee,data:r})}}},function(e){return r.a.createElement(Ye,{query:ee},function(n){var a=n.data,t=n.loading;return r.a.createElement(Qe,{toggleDrivingFn:e,data:a,loading:t})})})}}]),n}(r.a.Component),nn=a(85);function an(){var e=Object(d.a)(["\n  position: absolute;\n  background-color: white;\n  border-radius: 5px;\n  -webkit-appearance: none;\n  z-index: 2;\n  width: 80%;\n  border: 0;\n  font-size: 16px;\n  padding: 15px 10px;\n  box-shadow: 0 18px 35px rgba(50, 50, 93, 0.1), 0 8px 15px rgba(0, 0, 0, 0.07);\n  margin: auto;\n  top: 10px;\n  left: 0;\n  right: 0;\n  height: auto;\n"]);return an=function(){return e},e}var tn=S.input(an()),rn=function(e){var n=e.onChange,a=e.onBlur,t=e.name,o=e.value,i=e.onKeyPress;return r.a.createElement(tn,{onChange:n,onKeyPress:i,onBlur:a,name:t,value:o,placeholder:"Type Address"})};function on(){var e=Object(d.a)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 20px;\n"]);return on=function(){return e},e}function cn(){var e=Object(d.a)(["\n  border-radius: 50%;\n  margin-right: 20px;\n"]);return cn=function(){return e},e}function ln(){var e=Object(d.a)(["\n  color: ",";\n"]);return ln=function(){return e},e}function dn(){var e=Object(d.a)(["\n  font-weight: 800;\n  margin-top: 30px;\n  margin-bottom: 10px;\n  &:first-child {\n    margin-top: 0;\n  }\n"]);return dn=function(){return e},e}function un(){var e=Object(d.a)(["\n  background-color: white;\n  position: absolute;\n  margin: auto;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  width: 80%;\n  height: 60%;\n  z-index: 9;\n  padding: 20px;\n"]);return un=function(){return e},e}var sn=S.div(un()),mn=S.h4(dn()),fn=S.span(ln(),function(e){return e.theme.blueColor}),pn=S.img(cn()),gn=S.div(on()),bn=function(e){var n=e.pickUpAddress,a=e.dropOffAddress,t=e.price,o=e.distance,i=e.passengerName,c=e.passengerPhoto,l=e.acceptRideFn,d=e.id;return r.a.createElement(sn,null,r.a.createElement(mn,null,"Pick Up Address"),r.a.createElement(fn,null,n),r.a.createElement(mn,null,"Drop Off Address"),r.a.createElement(fn,null,a),r.a.createElement(mn,null,"Price"),r.a.createElement(fn,null,t),r.a.createElement(mn,null,"Distance"),r.a.createElement(fn,null,o),r.a.createElement(mn,null,"Distance"),r.a.createElement(fn,null,o),r.a.createElement(mn,null,"Passenger:"),r.a.createElement(gn,null,r.a.createElement(pn,{src:c}),r.a.createElement(fn,null,i)),r.a.createElement($,{onClick:function(){return l({variables:{rideId:d}})},value:"Accept Ride"}))};function hn(){var e=Object(d.a)(["\n  bottom: 400px;\n"]);return hn=function(){return e},e}function vn(){var e=Object(d.a)(["\n  position: absolute;\n  bottom: 50px;\n  left: 0;\n  right: 0;\n  margin: auto;\n  z-index: 10;\n  height: auto;\n  width: 80%;\n"]);return vn=function(){return e},e}function On(){var e=Object(d.a)(["\n  position: absolute;\n  height: 100%;\n  width: 100%;\n"]);return On=function(){return e},e}function jn(){var e=Object(d.a)(["\n  appearance: none;\n  padding: 10px;\n  position: absolute;\n  top: 10px;\n  left: 10px;\n  text-align: center;\n  font-weight: 800;\n  border: 0;\n  cursor: pointer;\n  font-size: 20px;\n  transform: rotate(90deg);\n  z-index: 2;\n  background-color: transparent;\n"]);return jn=function(){return e},e}function En(){var e=Object(d.a)([""]);return En=function(){return e},e}var yn=S.div(En()),_n=S.button(jn()),xn=S.div(On()),kn=S($)(vn()),Cn=S(kn)(hn()),Sn=function(e){var n=e.isMenuOpen,a=e.toggleMenu,t=e.loading,o=e.mapRef,i=e.onAddressSubmit,c=e.toAddress,l=e.onInputChange,d=e.onKeyPress,u=e.price,s=e.data,m=e.requestRideFn,f=e.nearbyRide,p=e.acceptRideFn,g=s.GetMyProfile;return r.a.createElement(yn,null,r.a.createElement(y.a,null,r.a.createElement("title",null,"Hi")),r.a.createElement(nn.a,{sidebar:r.a.createElement(en,null),open:n,onSetOpen:a,styles:{sidebar:{backgroundColor:"white",width:"80%",zIndex:"10"}}},!t&&r.a.createElement(_n,{onClick:a},"|||"),g&&g.user&&!g.user.isDriving&&r.a.createElement(r.a.Fragment,null,r.a.createElement(rn,{name:"toAddress",onChange:l,value:c,onKeyPress:d,onBlur:function(){}}),r.a.createElement(kn,{value:"Pick this place",onClick:i})),u&&r.a.createElement(Cn,{value:"Request Ride ($".concat(u,")"),onClick:m}),f&&f.GetNearByRide&&f.GetNearByRide.ride&&r.a.createElement(bn,{id:f.GetNearByRide.ride.id,pickUpAddress:f.GetNearByRide.ride.pickUpAddress,dropOffAddress:f.GetNearByRide.ride.dropOffAddress,price:f.GetNearByRide.ride.price,distance:f.GetNearByRide.ride.distance,passengerName:f.GetNearByRide.ride.passenger.fullName,passengerPhoto:f.GetNearByRide.ride.passenger.profilePhoto,acceptRideFn:p}),r.a.createElement(xn,{ref:o})))},In="AIzaSyCqFtlBsOI_BMJSIfuV43AW7HG5GLEKEC0",wn=function(){var e=Object(ce.a)(ie.a.mark(function e(n){var a,t,r,o,i,c,l,d,u;return ie.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="https://maps.googleapis.com/maps/api/geocode/json?address=".concat(n,"&key=").concat(In),e.next=4,de()(a);case 4:if(t=e.sent,(r=t.data).error_message){e.next=12;break}return o=r.results,i=o[0],c=i.formatted_address,l=i.geometry.location,d=l.lat,u=l.lng,e.abrupt("return",{formatted_address:c,lat:d,lng:u});case 12:return ae.b.error(r),e.abrupt("return",!1);case 14:e.next=20;break;case 16:return e.prev=16,e.t0=e.catch(0),ae.b.error("Cannot find place!"),e.abrupt("return",!1);case 20:case"end":return e.stop()}},e,null,[[0,16]])}));return function(n){return e.apply(this,arguments)}}(),Nn=function(){var e=Object(ce.a)(ie.a.mark(function e(n,a){var t,r,o,i;return ie.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://maps.googleapis.com/maps/api/geocode/json?latlng=".concat(n,",").concat(a,"&key=").concat(In),e.next=3,de()(t);case 3:if(r=e.sent,(o=r.data).error_message){e.next=10;break}return i=o.results[0].formatted_address,e.abrupt("return",i);case 10:return ae.b.error(o.error_message),e.abrupt("return",!1);case 12:case"end":return e.stop()}},e)}));return function(n,a){return e.apply(this,arguments)}}();function Mn(){var e=Object(d.a)(["\n  subscription nearbyRides {\n    NearbyRideSubscription {\n      id\n      pickUpAddress\n      dropOffAddress\n      price\n      distance\n      passenger {\n        fullName\n        profilePhoto\n      }\n    }\n  }\n"]);return Mn=function(){return e},e}function An(){var e=Object(d.a)(["\n  mutation acceptRide($rideId: Int!) {\n    UpdateRideStatus(rideId: $rideId, status: ACCEPTED) {\n      ok\n      error\n      rideId\n    }\n  }\n"]);return An=function(){return e},e}function Pn(){var e=Object(d.a)(["\n  query getRides {\n    GetNearByRide {\n      ok\n      error\n      ride {\n        id\n        pickUpAddress\n        dropOffAddress\n        price\n        distance\n        passenger {\n          fullName\n          profilePhoto\n        }\n      }\n    }\n  }\n"]);return Pn=function(){return e},e}function Rn(){var e=Object(d.a)(["\n  mutation requestRide(\n    $pickUpAddress: String!\n    $pickUpLat: Float!\n    $pickUpLng: Float!\n    $dropOffAddress: String!\n    $dropOffLat: Float!\n    $dropOffLng: Float!\n    $price: Float!\n    $distance: String!\n    $duration: String!\n  ) {\n    RequestRide(\n      pickUpAddress: $pickUpAddress\n      pickUpLat: $pickUpLat\n      pickUpLng: $pickUpLng\n      dropOffAddress: $dropOffAddress\n      dropOffLat: $dropOffLat\n      dropOffLng: $dropOffLng\n      price: $price\n      distance: $distance\n      duration: $duration\n    ) {\n      ok\n      error\n      ride {\n        id\n      }\n    }\n  }\n"]);return Rn=function(){return e},e}function Gn(){var e=Object(d.a)(["\n  query getDrivers {\n    GetNearbyDrivers {\n      ok\n      error\n      drivers {\n        id\n        lastLng\n        lastLat\n      }\n    }\n  }\n"]);return Gn=function(){return e},e}function Dn(){var e=Object(d.a)(["\n  mutation reportMovement($lat: Float!, $lng: Float!) {\n    ReportMovement(lastLat: $lat, lastLng: $lng) {\n      ok\n    }\n  }\n"]);return Dn=function(){return e},e}var Fn=Object(u.a)(Dn()),Ln=Object(u.a)(Gn()),Tn=Object(u.a)(Rn()),Bn=Object(u.a)(Pn()),Un=Object(u.a)(An()),$n=Object(u.a)(Mn()),zn=function(e){function n(){return Object(h.a)(this,n),Object(v.a)(this,Object(O.a)(n).apply(this,arguments))}return Object(j.a)(n,e),n}(c.c),Kn=function(e){function n(){return Object(h.a)(this,n),Object(v.a)(this,Object(O.a)(n).apply(this,arguments))}return Object(j.a)(n,e),n}(c.c),qn=function(e){function n(){return Object(h.a)(this,n),Object(v.a)(this,Object(O.a)(n).apply(this,arguments))}return Object(j.a)(n,e),n}(c.b),Vn=function(e){function n(){return Object(h.a)(this,n),Object(v.a)(this,Object(O.a)(n).apply(this,arguments))}return Object(j.a)(n,e),n}(c.c),Hn=function(e){function n(){return Object(h.a)(this,n),Object(v.a)(this,Object(O.a)(n).apply(this,arguments))}return Object(j.a)(n,e),n}(c.b),Wn=function(e){function n(e){var a;return Object(h.a)(this,n),(a=Object(v.a)(this,Object(O.a)(n).call(this,e))).mapRef=void 0,a.map=void 0,a.toMarker=void 0,a.userMarker=void 0,a.drivers=void 0,a.directions=void 0,a.state={isMenuOpen:!1,lat:0,lng:0,toAddress:"",toLng:0,toLat:0,distance:"",duration:"",price:void 0,fromAddress:"",isDriving:!1},a.handleGeoSuccess=function(){var e=Object(ce.a)(ie.a.mark(function e(n){var t,r,o;return ie.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=n.coords,r=t.latitude,o=t.longitude,a.setState({lat:r,lng:o}),a.getFromAddress(r,o),a.loadMap(r,o);case 4:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}(),a.getFromAddress=function(){var e=Object(ce.a)(ie.a.mark(function e(n,t){var r;return ie.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nn(n,t);case 2:(r=e.sent)&&a.setState({fromAddress:r});case 4:case"end":return e.stop()}},e)}));return function(n,a){return e.apply(this,arguments)}}(),a.handleGeoFail=function(){},a.loadMap=function(e,n){var t=a.props.google.maps,r=i.a.findDOMNode(a.mapRef.current),o={center:{lat:e,lng:n},disableDefaultUI:!0,zoom:15};a.map=new t.Map(r,o);var c={position:{lat:e,lng:n},icon:{path:t.SymbolPath.CIRCLE,scale:4}};a.userMarker=new t.Marker(c),a.userMarker.setMap(a.map);navigator.geolocation.watchPosition(a.handleGeoWatchSuccess,a.handleGeoWatchError,{enableHighAccuracy:!0})},a.handleGeoWatchSuccess=function(e){var n=e.coords,t=n.latitude,r=n.longitude,o=a.props.reportLocation;a.userMarker.setPosition({lat:t,lng:r}),a.map.panTo({lat:t,lng:r}),o({variables:{lat:t,lng:r}})},a.handleGeoWatchError=function(){console.log("Error watching you")},a.onAddressSubmit=Object(ce.a)(ie.a.mark(function e(){var n,t,r,o,i,c,l,d,u;return ie.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.state.toAddress,t=a.props.google,r=t.maps,e.next=5,wn(n);case 5:if(!(o=e.sent)){e.next=19;break}i=o.lat,c=o.lng,l=o.formatted_address,d={position:{lat:i,lng:c}},a.toMarker&&a.toMarker.setMap(null),a.toMarker=new r.Marker(d),a.toMarker.setMap(a.map),(u=new r.LatLngBounds).extend({lat:i,lng:c}),u.extend({lat:a.state.lat,lng:a.state.lng}),a.map.fitBounds(u),a.setState({toLat:i,toLng:c,toAddress:l},a.createPath),e.next=20;break;case 19:return e.abrupt("return");case 20:case"end":return e.stop()}},e)})),a.createPath=function(){var e=a.state,n=e.toLat,t=e.toLng,r=e.lat,o=e.lng,i=a.props.google;a.directions&&a.directions.setMap(null);a.directions=new i.maps.DirectionsRenderer({suppressMarkers:!0});var c=new i.maps.DirectionsService,l={destination:new i.maps.LatLng(n,t),origin:new i.maps.LatLng(r,o),travelMode:i.maps.TravelMode.TRANSIT};c.route(l,a.handleDirectionsRequests)},a.handleDirectionsRequests=function(e,n){if(n===a.props.google.maps.DirectionsStatus.OK){var t=e.routes[0].legs[0],r=t.distance.text,o=t.duration.text;a.directions.setDirections(e),a.directions.setMap(a.map),a.setState({distance:r,duration:o},a.setPrice)}else ae.b.error(n)},a.setPrice=function(){var e=a.state.distance;e&&a.setState({price:Number(1.1*parseFloat(e.replace(",","")))})},a.onInputChange=function(e){var n=e.target,t=n.name,r=n.value;a.setState(Object(g.a)({},t,r))},a.keyPress=function(e){"Enter"===e.key&&a.onAddressSubmit()},a.toggleMenu=function(){a.setState(function(e){return{isMenuOpen:!e.isMenuOpen}})},a.handleNearbyDrivers=function(e){var n=e.GetNearbyDrivers,t=n.ok,r=n.drivers,o=a.props.google;t&&r&&r.map(function(e){if(e&&e.lastLat&&e.lastLng){var n=a.drivers.find(function(n){return n.get("ID")===e.id});if(n)n.setPosition({lat:e.lastLat,lng:e.lastLng}),n.setMap(a.map);else{var t={position:{lat:e.lastLat,lng:e.lastLng},icon:{path:o.maps.SymbolPath.BACKWARD_CLOSED_ARROW,scale:4}},r=new o.maps.Marker(t);a.drivers.push(r),r.set("ID",e.id),r.setMap(a.map)}}})},a.handleRideRequest=function(e){var n=e.RequestRide,t=a.props.history;n.ok?(ae.b.success("Drive requested, finding a driver"),t.push("/ride/".concat(n.ride.id))):ae.b.error(n.error)},a.handleProfileQuery=function(e){var n=e.GetMyProfile;if(n.user){var t=n.user.isDriving;a.setState({isDriving:t})}},a.handleRideAcceptance=function(e){var n=a.props.history,t=e.UpdateRideStatus;t.ok&&n.push("/ride/".concat(t.rideId))},a.mapRef=r.a.createRef(),a.drivers=[],a}return Object(j.a)(n,e),Object(b.a)(n,[{key:"componentDidMount",value:function(){navigator.geolocation.getCurrentPosition(this.handleGeoSuccess,this.handleGeoFail)}},{key:"render",value:function(){var e=this,n=this.state,a=n.isMenuOpen,t=n.lat,o=n.lng,i=n.toAddress,c=n.toLng,l=n.toLat,d=n.distance,u=n.duration,s=n.price,m=n.fromAddress,f=n.isDriving;return r.a.createElement(zn,{query:ee,onCompleted:this.handleProfileQuery},function(n){var p=n.data,g=n.loading;return r.a.createElement(Kn,{query:Ln,pollInterval:5e3,skip:f,onCompleted:e.handleNearbyDrivers},function(){return r.a.createElement(qn,{mutation:Tn,variables:{distance:d,pickUpAddress:m,dropOffAddress:i,dropOffLat:l,dropOffLng:c,duration:u,pickUpLat:t,pickUpLng:o,price:s||0},onCompleted:e.handleRideRequest},function(n){return r.a.createElement(Vn,{query:Bn,skip:!f},function(t){var o=t.subscribeToMore,c=t.data;return f&&o({document:$n,updateQuery:function(e,n){var a=n.subscriptionData;return console.log(e,a),a.data?Object.assign({},e,{GetNearByRide:Object(Ne.a)({},e.GetNearByRide,{ride:a.data.NearbyRideSubscription})}):e}}),r.a.createElement(Hn,{mutation:Un,onCompleted:e.handleRideAcceptance},function(t){return r.a.createElement(Sn,{loading:g,isMenuOpen:a,toggleMenu:e.toggleMenu,mapRef:e.mapRef,toAddress:i,onInputChange:e.onInputChange,price:s,data:p,onAddressSubmit:e.onAddressSubmit,onKeyPress:e.keyPress,requestRideFn:n,nearbyRide:c,acceptRideFn:t})})})})})})}}]),n}(r.a.Component),Qn=Object(c.d)(Fn,{name:"reportLocation"})(Wn),Jn=Object(we.GoogleApiWrapper)({apiKey:In})(Qn),Zn=a(86),Yn=a.n(Zn);function Xn(){var e=Object(d.a)(["\n  color: ",";\n  font-size: 20px;\n  cursor: pointer;\n"]);return Xn=function(){return e},e}function ea(){var e=Object(d.a)(["\n  border-top: 1px solid ",";\n  padding: 30px 20px;\n"]);return ea=function(){return e},e}function na(){var e=Object(d.a)(["\n  color: ",";\n  margin-left: 10px;\n"]);return na=function(){return e},e}function aa(){var e=Object(d.a)(["\n  padding: 20px;\n  cursor: pointer;\n"]);return aa=function(){return e},e}function ta(){var e=Object(d.a)(["\n  margin: 50px 0px;\n  font-size: 25px;\n  font-weight: 300;\n"]);return ta=function(){return e},e}function ra(){var e=Object(d.a)(["\n  font-size: 30px;\n"]);return ra=function(){return e},e}function oa(){var e=Object(d.a)([""]);return oa=function(){return e},e}function ia(){var e=Object(d.a)([""]);return ia=function(){return e},e}function ca(){var e=Object(d.a)(["\n  width: 110px;\n  height: 110px;\n  background-color: white;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 -14px 28px rgba(0, 0, 0, 0.22);\n  text-transform: uppercase;\n  font-weight: 500;\n  font-size: 25px;\n"]);return ca=function(){return e},e}function la(){var e=Object(d.a)(["\n  height: 70%;\n  background: linear-gradient(rgba(0, 153, 196, 0.5), rgba(0, 153, 196, 0.4)),\n    url(",");\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return la=function(){return e},e}function da(){var e=Object(d.a)(["\n  height: 100vh;\n"]);return da=function(){return e},e}var ua=S.div(da()),sa=S.header(la(),Yn.a),ma=S.div(ca()),fa=S.h1(ia()),pa=S.div(oa()),ga=S.h2(ra()),ba=S.div(ta()),ha=S.div(aa()),va=S.span(na(),function(e){return e.theme.greyColor}),Oa=S.div(ea(),function(e){return e.theme.greyColor}),ja=S.span(Xn(),function(e){return e.theme.blueColor}),Ea=function(){return r.a.createElement(ua,null,r.a.createElement(y.a,null,r.a.createElement("title",null,"Login | Uber")),r.a.createElement(sa,null,r.a.createElement(ma,null,r.a.createElement(fa,null,"Nuber"))),r.a.createElement(pa,null,r.a.createElement(f.b,{to:"/phone-login"},r.a.createElement(ha,null,r.a.createElement(ga,null,"Get Moving with Nuber"),r.a.createElement(ba,null,"\ud83c\uddf0\ud83c\uddf7 +82 ",r.a.createElement(va,null,"Enter your mobile number")))),r.a.createElement(f.b,{to:"/social-login"},r.a.createElement(Oa,null,r.a.createElement(ja,null,"Or connect with social")))))},ya=[{name:"Afghanistan",dial_code:"+93",code:"AF",flag:"\ud83c\udde6\ud83c\uddeb"},{name:"\xc5land Islands",dial_code:"+358",code:"AX",flag:"\ud83c\udde6\ud83c\uddfd"},{name:"Albania",dial_code:"+355",code:"AL",flag:"\ud83c\udde6\ud83c\uddf1"},{name:"Algeria",dial_code:"+213",code:"DZ",flag:"\ud83c\udde9\ud83c\uddff"},{name:"American Samoa",flag:"\ud83c\uddfa\ud83c\uddf8",dial_code:"+1684",code:"AS"},{name:"Andorra",dial_code:"+376",code:"AD",flag:"\ud83c\udde6\ud83c\udde9"},{name:"Angola",dial_code:"+244",code:"AO",flag:"\ud83c\udde6\ud83c\uddf4"},{name:"Anguilla",dial_code:"+1264",code:"AI",flag:"\ud83c\udde6\ud83c\uddee"},{name:"Antarctica",dial_code:"+672",code:"AQ",flag:"\ud83c\udde6\ud83c\uddf6"},{name:"Antigua and Barbuda",dial_code:"+1268",code:"AG",flag:"\ud83c\udde6\ud83c\uddec"},{name:"Argentina",dial_code:"+54",code:"AR",flag:"\ud83c\udde6\ud83c\uddf7"},{name:"Armenia",dial_code:"+374",code:"AM",flag:"\ud83c\udde6\ud83c\uddf2"},{name:"Aruba",dial_code:"+297",code:"AW",flag:"\ud83c\udde6\ud83c\uddfc"},{name:"Australia",dial_code:"+61",code:"AU",flag:"\ud83c\udde6\ud83c\uddfa"},{name:"Austria",dial_code:"+43",code:"AT",flag:"\ud83c\udde6\ud83c\uddf9"},{name:"Azerbaijan",dial_code:"+994",code:"AZ",flag:"\ud83c\udde6\ud83c\uddff"},{name:"Bahamas",dial_code:"+1242",code:"BS",flag:"\ud83c\udde7\ud83c\uddf8"},{name:"Bahrain",dial_code:"+973",code:"BH",flag:"\ud83c\udde7\ud83c\uddf8"},{name:"Bangladesh",dial_code:"+880",code:"BD",flag:"\ud83c\udde7\ud83c\udde9"},{name:"Barbados",dial_code:"+1246",code:"BB",flag:"\ud83c\udde7\ud83c\udde7"},{name:"Belarus",dial_code:"+375",code:"BY",flag:"\ud83c\udde7\ud83c\uddfe"},{name:"Belgium",dial_code:"+32",code:"BE",flag:"\ud83c\udde7\ud83c\uddea"},{name:"Belize",dial_code:"+501",code:"BZ",flag:"\ud83c\udde7\ud83c\uddff"},{name:"Benin",dial_code:"+229",code:"BJ",flag:"\ud83c\udde7\ud83c\uddef"},{name:"Bermuda",dial_code:"+1441",code:"BM",flag:"\ud83c\udde7\ud83c\uddf2"},{name:"Bhutan",dial_code:"+975",code:"BT",flag:"\ud83c\udde7\ud83c\uddf9"},{name:"Bolivia, Plurinational State of bolivia",dial_code:"+591",code:"BO",flag:"\ud83c\udde7\ud83c\uddf4"},{name:"Bosnia and Herzegovina",dial_code:"+387",code:"BA",flag:"\ud83c\udde7\ud83c\udde6"},{name:"Botswana",dial_code:"+267",code:"BW",flag:"\ud83c\udde7\ud83c\uddfc"},{name:"Bouvet Island",dial_code:"+47",code:"BV",flag:"\ud83c\udff3"},{name:"Brazil",dial_code:"+55",code:"BR",flag:"\ud83c\udde7\ud83c\uddf7"},{name:"British Indian Ocean Territory",dial_code:"+246",code:"IO",flag:"\ud83c\uddee\ud83c\uddf4"},{name:"Brunei Darussalam",dial_code:"+673",code:"BN",flag:"\ud83c\udde7\ud83c\uddf3"},{name:"Bulgaria",dial_code:"+359",code:"BG",flag:"\ud83c\udde7\ud83c\uddec"},{name:"Burkina Faso",dial_code:"+226",code:"BF",flag:"\ud83c\udde7\ud83c\uddeb"},{name:"Burundi",dial_code:"+257",code:"BI",flag:"\ud83c\udde7\ud83c\uddee"},{name:"Cambodia",dial_code:"+855",code:"KH",flag:"\ud83c\uddf0\ud83c\udded"},{name:"Cameroon",dial_code:"+237",code:"CM",flag:"\ud83c\udde8\ud83c\uddf2"},{name:"Canada",dial_code:"+1",code:"CA",flag:"\ud83c\udde8\ud83c\udde6"},{name:"Cape Verde",dial_code:"+238",code:"CV",flag:"\ud83c\udde8\ud83c\uddfb"},{name:"Cayman Islands",dial_code:"+ 345",code:"KY",flag:"\ud83c\uddf0\ud83c\uddfe"},{name:"Central African Republic",dial_code:"+236",code:"CF",flag:"\ud83c\udde8\ud83c\uddeb"},{name:"Chad",dial_code:"+235",code:"TD",flag:"\ud83c\uddf9\ud83c\udde9"},{name:"Chile",dial_code:"+56",code:"CL",flag:"\ud83c\udde8\ud83c\uddf1"},{name:"China",dial_code:"+86",code:"CN",flag:"\ud83c\udde8\ud83c\uddf3"},{name:"Christmas Island",dial_code:"+61",code:"CX",flag:"\ud83c\udde8\ud83c\uddfd"},{name:"Cocos (Keeling) Islands",dial_code:"+61",code:"CC",flag:"\ud83c\udde8\ud83c\udde8"},{name:"Colombia",dial_code:"+57",code:"CO",flag:""},{name:"Comoros",dial_code:"+269",code:"KM",flag:"\ud83c\uddf0\ud83c\uddf2"},{name:"Congo",dial_code:"+242",code:"CG",flag:"\ud83c\udde8\ud83c\uddec"},{name:"Congo, The Democratic Republic of the Congo",dial_code:"+243",code:"CD",flag:"\ud83c\udde8\ud83c\udde9"},{name:"Cook Islands",dial_code:"+682",code:"CK",flag:"\ud83c\udde8\ud83c\uddf0"},{name:"Costa Rica",dial_code:"+506",code:"CR",flag:"\ud83c\udde8\ud83c\uddf7"},{name:"Cote d'Ivoire",dial_code:"+225",code:"CI",flag:"\ud83c\udde8\ud83c\uddee"},{name:"Croatia",dial_code:"+385",code:"HR",flag:"\ud83c\udded\ud83c\uddf7"},{name:"Cuba",dial_code:"+53",code:"CU",flag:"\ud83c\udde8\ud83c\uddfa"},{name:"Cyprus",dial_code:"+357",code:"CY",flag:"\ud83c\udde8\ud83c\uddfe"},{name:"Czech Republic",dial_code:"+420",code:"CZ",flag:"\ud83c\udde8\ud83c\uddff"},{name:"Denmark",dial_code:"+45",code:"DK",flag:"\ud83c\udde9\ud83c\uddf0"},{name:"Djibouti",dial_code:"+253",code:"DJ",flag:"\ud83c\udde9\ud83c\uddef"},{name:"Dominica",dial_code:"+1767",code:"DM",flag:"\ud83c\udde9\ud83c\uddf2"},{name:"Dominican Republic",dial_code:"+1849",code:"DO",flag:"\ud83c\udde8\ud83c\udde9"},{name:"Ecuador",dial_code:"+593",code:"EC",flag:"\ud83c\uddea\ud83c\udde8"},{name:"Egypt",dial_code:"+20",code:"EG",flag:"\ud83c\uddea\ud83c\uddec"},{name:"El Salvador",dial_code:"+503",code:"SV",flag:"\ud83c\uddf8\ud83c\uddfb"},{name:"Equatorial Guinea",dial_code:"+240",code:"GQ",flag:"\ud83c\uddec\ud83c\uddf6"},{name:"Eritrea",dial_code:"+291",code:"ER",flag:"\ud83c\uddea\ud83c\uddf7"},{name:"Estonia",dial_code:"+372",code:"EE",flag:"\ud83c\uddea\ud83c\uddea"},{name:"Ethiopia",dial_code:"+251",code:"ET",flag:"\ud83c\uddea\ud83c\uddf9"},{name:"Falkland Islands (Malvinas)",dial_code:"+500",code:"FK",flag:"\ud83c\uddeb\ud83c\uddf0"},{name:"Faroe Islands",dial_code:"+298",code:"FO",flag:""},{name:"Fiji",dial_code:"+679",code:"FJ",flag:"\ud83c\uddeb\ud83c\uddef"},{name:"Finland",dial_code:"+358",code:"FI",flag:"\ud83c\uddeb\ud83c\uddee"},{name:"France",dial_code:"+33",code:"FR",flag:"\ud83c\uddeb\ud83c\uddf7"},{name:"French Guiana",dial_code:"+594",code:"GF",flag:"\ud83c\uddec\ud83c\uddeb"},{name:"French Polynesia",dial_code:"+689",code:"PF",flag:"\ud83c\uddf5\ud83c\uddeb"},{name:"French Southern Territories",dial_code:"+262",code:"TF",flag:"\ud83c\uddf9\ud83c\uddeb"},{name:"Gabon",dial_code:"+241",code:"GA",flag:"\ud83c\uddec\ud83c\udde6"},{name:"Gambia",dial_code:"+220",code:"GM",flag:"\ud83c\uddec\ud83c\uddf2"},{name:"Georgia",dial_code:"+995",code:"GE",flag:"\ud83c\uddec\ud83c\uddea"},{name:"Germany",dial_code:"+49",code:"DE",flag:"\ud83c\udde9\ud83c\uddea"},{name:"Ghana",dial_code:"+233",code:"GH",flag:"\ud83c\uddec\ud83c\udded"},{name:"Gibraltar",dial_code:"+350",code:"GI",flag:"\ud83c\uddec\ud83c\uddee"},{name:"Greece",dial_code:"+30",code:"GR",flag:"\ud83c\uddec\ud83c\uddf7"},{name:"Greenland",dial_code:"+299",code:"GL",flag:"\ud83c\uddec\ud83c\uddf1"},{name:"Grenada",dial_code:"+1473",code:"GD",flag:"\ud83c\uddec\ud83c\udde9"},{name:"Guadeloupe",dial_code:"+590",code:"GP",flag:"\ud83c\uddec\ud83c\uddf5"},{name:"Guam",dial_code:"+1671",code:"GU",flag:"\ud83c\uddec\ud83c\uddfa"},{name:"Guatemala",dial_code:"+502",code:"GT",flag:"\ud83c\uddec\ud83c\uddf9"},{name:"Guernsey",dial_code:"+44",code:"GG",flag:"\ud83c\uddec\ud83c\uddec"},{name:"Guinea",dial_code:"+224",code:"GN",flag:"\ud83c\uddec\ud83c\uddf3"},{name:"Guinea-Bissau",dial_code:"+245",code:"GW",flag:"\ud83c\uddec\ud83c\uddfc"},{name:"Guyana",dial_code:"+592",code:"GY",flag:"\ud83c\uddec\ud83c\uddfe"},{name:"Haiti",dial_code:"+509",code:"HT",flag:"\ud83c\udded\ud83c\uddf9"},{name:"Heard Island and Mcdonald Islands",dial_code:"+0",code:"HM",flag:"\ud83c\udff3"},{name:"Holy See (Vatican City State)",dial_code:"+379",code:"VA",flag:"\ud83c\uddfb\ud83c\udde6"},{name:"Honduras",dial_code:"+504",code:"HN",flag:"\ud83c\udded\ud83c\uddf3"},{name:"Hong Kong",dial_code:"+852",code:"HK",flag:"\ud83c\udded\ud83c\uddf0"},{name:"Hungary",dial_code:"+36",code:"HU",flag:"\ud83c\udded\ud83c\uddfa"},{name:"Iceland",dial_code:"+354",code:"IS",flag:"\ud83c\uddee\ud83c\uddf8"},{name:"India",dial_code:"+91",code:"IN",flag:"\ud83c\uddee\ud83c\uddf3"},{name:"Indonesia",dial_code:"+62",code:"ID",flag:"\ud83c\uddee\ud83c\udde9"},{name:"Iran, Islamic Republic of Persian Gulf",dial_code:"+98",code:"IR",flag:"\ud83c\uddee\ud83c\uddf7"},{name:"Iraq",dial_code:"+964",code:"IQ",flag:"\ud83c\uddee\ud83c\uddf6"},{name:"Ireland",dial_code:"+353",code:"IE",flag:"\ud83c\uddee\ud83c\uddea"},{name:"Isle of Man",dial_code:"+44",code:"IM",flag:"\ud83c\uddee\ud83c\uddf2"},{name:"Israel",dial_code:"+972",code:"IL",flag:"\ud83c\uddee\ud83c\uddf1"},{name:"Italy",dial_code:"+39",code:"IT",flag:"\ud83c\uddee\ud83c\uddf9"},{name:"Jamaica",dial_code:"+1876",code:"JM",flag:"\ud83c\uddef\ud83c\uddf2"},{name:"Japan",dial_code:"+81",code:"JP",flag:"\ud83c\uddef\ud83c\uddf5"},{name:"Jersey",dial_code:"+44",code:"JE",flag:"\ud83c\uddef\ud83c\uddea"},{name:"Jordan",dial_code:"+962",code:"JO",flag:"\ud83c\uddef\ud83c\uddf4"},{name:"Kazakhstan",dial_code:"+7",code:"KZ",flag:"\ud83c\uddf0\ud83c\uddff"},{name:"Kenya",dial_code:"+254",code:"KE",flag:"\ud83c\uddf0\ud83c\uddea"},{name:"Kiribati",dial_code:"+686",code:"KI",flag:"\ud83c\uddf0\ud83c\uddee"},{name:"Korea, Democratic People's Republic of Korea",dial_code:"+850",code:"KP",flag:"\ud83c\uddf0\ud83c\uddf5"},{name:"Korea, Republic of South Korea",dial_code:"+82",code:"KR",flag:"\ud83c\uddf0\ud83c\uddf7"},{name:"Kosovo",dial_code:"+383",code:"XK",flag:"\ud83c\uddfd\ud83c\uddf0"},{name:"Kuwait",dial_code:"+965",code:"KW",flag:"\ud83c\uddf0\ud83c\uddfc"},{name:"Kyrgyzstan",dial_code:"+996",code:"KG",flag:"\ud83c\uddf0\ud83c\uddec"},{name:"Laos",dial_code:"+856",code:"LA",flag:"\ud83c\uddf1\ud83c\udde6"},{name:"Latvia",dial_code:"+371",code:"LV",flag:"\ud83c\uddf1\ud83c\uddfb"},{name:"Lebanon",dial_code:"+961",code:"LB",flag:"\ud83c\uddf1\ud83c\udde7"},{name:"Lesotho",dial_code:"+266",code:"LS",flag:"\ud83c\uddf1\ud83c\uddf8"},{name:"Liberia",dial_code:"+231",code:"LR",flag:"\ud83c\uddf1\ud83c\uddf7"},{name:"Libyan Arab Jamahiriya",dial_code:"+218",code:"LY",flag:"\ud83c\uddf1\ud83c\uddfe"},{name:"Liechtenstein",dial_code:"+423",code:"LI",flag:"\ud83c\uddf1\ud83c\uddee"},{name:"Lithuania",dial_code:"+370",code:"LT",flag:"\ud83c\uddf1\ud83c\uddf9"},{name:"Luxembourg",dial_code:"+352",code:"LU",flag:"\ud83c\uddf1\ud83c\uddfa"},{name:"Macao",dial_code:"+853",code:"MO",flag:"\ud83c\uddf2\ud83c\uddf4"},{name:"Macedonia",dial_code:"+389",code:"MK",flag:"\ud83c\uddf2\ud83c\uddf0"},{name:"Madagascar",dial_code:"+261",code:"MG",flag:"\ud83c\uddf2\ud83c\uddec"},{name:"Malawi",dial_code:"+265",code:"MW",flag:"\ud83c\uddf2\ud83c\uddfc"},{name:"Malaysia",dial_code:"+60",code:"MY",flag:"\ud83c\uddf2\ud83c\uddfe"},{name:"Maldives",dial_code:"+960",code:"MV",flag:"\ud83c\uddf2\ud83c\uddfb"},{name:"Mali",dial_code:"+223",code:"ML",flag:"\ud83c\uddf2\ud83c\uddf1"},{name:"Malta",dial_code:"+356",code:"MT",flag:"\ud83c\uddf2\ud83c\uddf9"},{name:"Marshall Islands",dial_code:"+692",code:"MH",flag:"\ud83c\uddf2\ud83c\udded"},{name:"Martinique",dial_code:"+596",code:"MQ",flag:"\ud83c\uddf2\ud83c\uddf6"},{name:"Mauritania",dial_code:"+222",code:"MR",flag:"\ud83c\uddf2\ud83c\uddf7"},{name:"Mauritius",dial_code:"+230",code:"MU",flag:"\ud83c\uddf2\ud83c\uddfa"},{name:"Mayotte",dial_code:"+262",code:"YT",flag:"\ud83c\uddfe\ud83c\uddf9"},{name:"Mexico",dial_code:"+52",code:"MX",flag:"\ud83c\uddf2\ud83c\uddfd"},{name:"Micronesia, Federated States of Micronesia",dial_code:"+691",code:"FM",flag:"\ud83c\uddeb\ud83c\uddf2"},{name:"Moldova",dial_code:"+373",code:"MD",flag:"\ud83c\uddf2\ud83c\udde9"},{name:"Monaco",dial_code:"+377",code:"MC",flag:"\ud83c\uddf2\ud83c\udde8"},{name:"Mongolia",dial_code:"+976",code:"MN",flag:"\ud83c\uddf2\ud83c\uddf3"},{name:"Montenegro",dial_code:"+382",code:"ME",flag:"\ud83c\uddf2\ud83c\uddea"},{name:"Montserrat",dial_code:"+1664",code:"MS",flag:"\ud83c\uddf2\ud83c\uddf8"},{name:"Morocco",dial_code:"+212",code:"MA",flag:"\ud83c\uddf2\ud83c\udde6"},{name:"Mozambique",dial_code:"+258",code:"MZ",flag:"\ud83c\uddf2\ud83c\uddff"},{name:"Myanmar",dial_code:"+95",code:"MM",flag:"\ud83c\uddf2\ud83c\uddf2"},{name:"Namibia",dial_code:"+264",code:"NA",flag:"\ud83c\uddf3\ud83c\udde6"},{name:"Nauru",dial_code:"+674",code:"NR",flag:"\ud83c\uddf3\ud83c\uddf7"},{name:"Nepal",dial_code:"+977",code:"NP",flag:"\ud83c\uddf3\ud83c\uddf5"},{name:"Netherlands",dial_code:"+31",code:"NL",flag:"\ud83c\uddf3\ud83c\uddf1"},{name:"Netherlands Antilles",dial_code:"+599",code:"AN",flag:"\ud83c\uddf3\ud83c\uddf1"},{name:"New Caledonia",dial_code:"+687",code:"NC",flag:"\ud83c\uddf3\ud83c\udde8"},{name:"New Zealand",dial_code:"+64",code:"NZ",flag:"\ud83c\uddf3\ud83c\uddff"},{name:"Nicaragua",dial_code:"+505",code:"NI",flag:"\ud83c\uddf3\ud83c\uddee"},{name:"Niger",dial_code:"+227",code:"NE",flag:"\ud83c\uddf3\ud83c\uddea"},{name:"Nigeria",dial_code:"+234",code:"NG",flag:"\ud83c\uddf3\ud83c\uddec"},{name:"Niue",dial_code:"+683",code:"NU",flag:"\ud83c\uddf3\ud83c\uddfa"},{name:"Norfolk Island",dial_code:"+672",code:"NF",flag:"\ud83c\uddf3\ud83c\uddeb"},{name:"Northern Mariana Islands",dial_code:"+1670",code:"MP",flag:"\ud83c\udff3"},{name:"Norway",dial_code:"+47",code:"NO",flag:"\ud83c\uddf3\ud83c\uddf4"},{name:"Oman",dial_code:"+968",code:"OM",flag:"\ud83c\uddf4\ud83c\uddf2"},{name:"Pakistan",dial_code:"+92",code:"PK",flag:"\ud83c\uddf5\ud83c\uddf0"},{name:"Palau",dial_code:"+680",code:"PW",flag:"\ud83c\uddf5\ud83c\uddfc"},{name:"Palestinian Territory, Occupied",dial_code:"+970",code:"PS",flag:"\ud83c\uddf5\ud83c\uddf8"},{name:"Panama",dial_code:"+507",code:"PA",flag:"\ud83c\uddf5\ud83c\udde6"},{name:"Papua New Guinea",dial_code:"+675",code:"PG",flag:"\ud83c\uddf5\ud83c\uddec"},{name:"Paraguay",dial_code:"+595",code:"PY",flag:"\ud83c\uddf5\ud83c\uddfe"},{name:"Peru",dial_code:"+51",code:"PE",flag:"\ud83c\uddf5\ud83c\uddea"},{name:"Philippines",dial_code:"+63",code:"PH",flag:"\ud83c\uddf5\ud83c\udded"},{name:"Pitcairn",dial_code:"+64",code:"PN",flag:"\ud83c\uddf5\ud83c\uddf3"},{name:"Poland",dial_code:"+48",code:"PL",flag:"\ud83c\uddf5\ud83c\uddf1"},{name:"Portugal",dial_code:"+351",code:"PT",flag:"\ud83c\uddf5\ud83c\uddf9"},{name:"Puerto Rico",dial_code:"+1939",code:"PR",flag:"\ud83c\uddf5\ud83c\uddf7"},{name:"Qatar",dial_code:"+974",code:"QA",flag:"\ud83c\uddf6\ud83c\udde6"},{name:"Romania",dial_code:"+40",code:"RO",flag:"\ud83c\uddf7\ud83c\uddf4"},{name:"Russia",dial_code:"+7",code:"RU",flag:"\ud83c\uddf7\ud83c\uddfa"},{name:"Rwanda",dial_code:"+250",code:"RW",flag:"\ud83c\uddf7\ud83c\uddfc"},{name:"Reunion",dial_code:"+262",code:"RE",flag:"\ud83c\uddeb\ud83c\uddf7"},{name:"Saint Barthelemy",dial_code:"+590",code:"BL",flag:"\ud83c\udde7\ud83c\uddf1"},{name:"Saint Helena, Ascension and Tristan Da Cunha",dial_code:"+290",code:"SH",flag:"\ud83c\uddf8\ud83c\udded"},{name:"Saint Kitts and Nevis",dial_code:"+1869",code:"KN",flag:"\ud83c\uddf0\ud83c\uddf3"},{name:"Saint Lucia",dial_code:"+1758",code:"LC",flag:"\ud83c\uddf1\ud83c\udde8"},{name:"Saint Martin",dial_code:"+590",code:"MF",flag:"\ud83c\udff3"},{name:"Saint Pierre and Miquelon",dial_code:"+508",code:"PM",flag:"\ud83c\uddf5\ud83c\uddf2"},{name:"Saint Vincent and the Grenadines",dial_code:"+1784",code:"VC",flag:"\ud83c\uddfb\ud83c\udde8"},{name:"Samoa",dial_code:"+685",code:"WS",flag:"\ud83c\uddfc\ud83c\uddf8"},{name:"San Marino",dial_code:"+378",code:"SM",flag:"\ud83c\uddf8\ud83c\uddf2"},{name:"Sao Tome and Principe",dial_code:"+239",code:"ST",flag:"\ud83c\uddf8\ud83c\uddf9"},{name:"Saudi Arabia",dial_code:"+966",code:"SA",flag:"\ud83c\uddf8\ud83c\udde6"},{name:"Senegal",dial_code:"+221",code:"SN",flag:"\ud83c\uddf8\ud83c\uddf3"},{name:"Serbia",dial_code:"+381",code:"RS",flag:"\ud83c\uddf7\ud83c\uddf8"},{name:"Seychelles",dial_code:"+248",code:"SC",flag:"\ud83c\uddf8\ud83c\udde8"},{name:"Sierra Leone",dial_code:"+232",code:"SL",flag:"\ud83c\uddf8\ud83c\uddf1"},{name:"Singapore",dial_code:"+65",code:"SG",flag:"\ud83c\uddf8\ud83c\uddec"},{name:"Slovakia",dial_code:"+421",code:"SK",flag:"\ud83c\uddf8\ud83c\uddf0"},{name:"Slovenia",dial_code:"+386",code:"SI",flag:"\ud83c\uddf8\ud83c\uddee"},{name:"Solomon Islands",dial_code:"+677",code:"SB",flag:"\ud83c\uddf8\ud83c\udde7"},{name:"Somalia",dial_code:"+252",code:"SO",flag:"\ud83c\uddf8\ud83c\uddf4"},{name:"South Africa",dial_code:"+27",code:"ZA",flag:"\ud83c\uddff\ud83c\udde6"},{name:"South Sudan",dial_code:"+211",code:"SS",flag:"\ud83c\uddf8\ud83c\uddf8"},{name:"South Georgia and the South Sandwich Islands",dial_code:"+500",code:"GS",flag:"\ud83c\uddec\ud83c\uddf8"},{name:"Spain",dial_code:"+34",code:"ES",flag:"\ud83c\uddea\ud83c\uddf8"},{name:"Sri Lanka",dial_code:"+94",code:"LK",flag:"\ud83c\uddf1\ud83c\uddf0"},{name:"Sudan",dial_code:"+249",code:"SD",flag:"\ud83c\uddf8\ud83c\udde9"},{name:"Suriname",dial_code:"+597",code:"SR",flag:"\ud83c\uddf8\ud83c\uddf7"},{name:"Svalbard and Jan Mayen",dial_code:"+47",code:"SJ",flag:"\ud83c\udde9\ud83c\uddf0"},{name:"Swaziland",dial_code:"+268",code:"SZ",flag:"\ud83c\uddf8\ud83c\uddff"},{name:"Sweden",dial_code:"+46",code:"SE",flag:"\ud83c\uddf8\ud83c\uddea"},{name:"Switzerland",dial_code:"+41",code:"CH",flag:"\ud83c\udde8\ud83c\udded"},{name:"Syrian Arab Republic",dial_code:"+963",code:"SY",flag:"\ud83c\uddf8\ud83c\uddfe"},{name:"Taiwan",dial_code:"+886",code:"TW",flag:"\ud83c\uddf9\ud83c\uddfc"},{name:"Tajikistan",dial_code:"+992",code:"TJ",flag:"\ud83c\uddf9\ud83c\uddef"},{name:"Tanzania, United Republic of Tanzania",dial_code:"+255",code:"TZ",flag:"\ud83c\uddf9\ud83c\uddff"},{name:"Thailand",dial_code:"+66",code:"TH",flag:"\ud83c\uddf9\ud83c\udded"},{name:"Timor-Leste",dial_code:"+670",code:"TL",flag:"\ud83c\uddf9\ud83c\uddf1"},{name:"Togo",dial_code:"+228",code:"TG",flag:"\ud83c\uddf9\ud83c\uddec"},{name:"Tokelau",dial_code:"+690",code:"TK",flag:"\ud83c\uddf9\ud83c\uddf0"},{name:"Tonga",dial_code:"+676",code:"TO",flag:"\ud83c\uddf9\ud83c\uddf4"},{name:"Trinidad and Tobago",dial_code:"+1868",code:"TT",flag:"\ud83c\uddf9\ud83c\uddf9"},{name:"Tunisia",dial_code:"+216",code:"TN",flag:"\ud83c\uddf9\ud83c\uddf3"},{name:"Turkey",dial_code:"+90",code:"TR",flag:"\ud83c\uddf9\ud83c\uddf7"},{name:"Turkmenistan",dial_code:"+993",code:"TM",flag:"\ud83c\uddf9\ud83c\uddf2"},{name:"Turks and Caicos Islands",dial_code:"+1649",code:"TC",flag:"\ud83c\uddf9\ud83c\udde8"},{name:"Tuvalu",dial_code:"+688",code:"TV",flag:"\ud83c\uddf9\ud83c\uddfb"},{name:"Uganda",dial_code:"+256",code:"UG",flag:"\ud83c\uddfa\ud83c\uddec"},{name:"Ukraine",dial_code:"+380",code:"UA",flag:"\ud83c\uddfa\ud83c\udde6"},{name:"United Arab Emirates",dial_code:"+971",code:"AE",flag:"\ud83c\udde6\ud83c\uddea"},{name:"United Kingdom",dial_code:"+44",code:"GB",flag:"\ud83c\uddec\ud83c\udde7"},{name:"United States",dial_code:"+1",code:"US",flag:"\ud83c\uddfa\ud83c\uddf8"},{name:"Uruguay",dial_code:"+598",code:"UY",flag:"\ud83c\uddfa\ud83c\uddfe"},{name:"Uzbekistan",dial_code:"+998",code:"UZ",flag:"\ud83c\uddfa\ud83c\uddff"},{name:"Vanuatu",dial_code:"+678",code:"VU",flag:"\ud83c\uddfb\ud83c\uddfa"},{name:"Venezuela, Bolivarian Republic of Venezuela",dial_code:"+58",code:"VE",flag:"\ud83c\uddfb\ud83c\uddea"},{name:"Vietnam",dial_code:"+84",code:"VN",flag:"\ud83c\uddfb\ud83c\uddf3"},{name:"Virgin Islands, British",dial_code:"+1284",code:"VG",flag:"\ud83c\uddfb\ud83c\uddec"},{name:"Virgin Islands, U.S.",dial_code:"+1340",code:"VI",flag:"\ud83c\uddfb\ud83c\uddee"},{name:"Wallis and Futuna",dial_code:"+681",code:"WF",flag:"\ud83c\uddfc\ud83c\uddeb"},{name:"Yemen",dial_code:"+967",code:"YE",flag:"\ud83c\uddfe\ud83c\uddea"},{name:"Zambia",dial_code:"+260",code:"ZM",flag:"\ud83c\uddff\ud83c\uddf2"},{name:"Zimbabwe",dial_code:"+263",code:"ZW",flag:"\ud83c\uddff\ud83c\uddfc"}];function _a(){var e=Object(d.a)(["\n  box-shadow: 0 18px 35px rgba(50, 50, 93, 0.1), 0 8px 15px rgba(0, 0, 0, 0.07);\n  background-color: black;\n  color: white;\n  padding: 20px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  bottom: 50px;\n  right: 50px;\n  cursor: pointer;\n"]);return _a=function(){return e},e}function xa(){var e=Object(d.a)([""]);return xa=function(){return e},e}function ka(){var e=Object(d.a)([""]);return ka=function(){return e},e}function Ca(){var e=Object(d.a)(['\n  font-size: 20px;\n  color: "#2c3e50";\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n  background-color: white;\n  border: 0;\n  font-family: "Maven Pro";\n  margin-bottom: 20px;\n  width: 90%;\n']);return Ca=function(){return e},e}function Sa(){var e=Object(d.a)(["\n  font-size: 25px;\n  margin-bottom: 40px;\n"]);return Sa=function(){return e},e}function Ia(){var e=Object(d.a)(["\n  position: absolute;\n  top: 20px;\n  left: 20px;\n"]);return Ia=function(){return e},e}function wa(){var e=Object(d.a)(["\n  margin-top: 30px;\n  padding: 50px 20px;\n"]);return wa=function(){return e},e}var Na=S.div(wa()),Ma=S(P)(Ia()),Aa=S.h2(Sa()),Pa=S.select(Ca()),Ra=S.option(ka()),Ga=S.form(xa()),Da=S.button(_a()),Fa=function(e){var n=e.countryCode,a=e.phoneNumber,t=e.onInputChange,o=e.onSubmit,i=e.loading;return r.a.createElement(Na,null,r.a.createElement(y.a,null,r.a.createElement("title",null,"Phone Login | Number")),r.a.createElement(Ma,{backTo:"/"}),r.a.createElement(Aa,null,"Enter your mobile number"),r.a.createElement(Pa,{value:n,name:"countryCode",onChange:t},ya.map(function(e,n){return r.a.createElement(Ra,{key:n,value:e.dial_code},e.flag," ",e.name," (",e.dial_code,")")})),r.a.createElement(Ga,{onSubmit:o},r.a.createElement(N,{placeholder:"053 690 2129",value:a,name:"phoneNumber",onChange:t}),r.a.createElement(Da,null,i?r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"white"},r.a.createElement("path",{d:"M13.75 22c0 .966-.783 1.75-1.75 1.75s-1.75-.784-1.75-1.75.783-1.75 1.75-1.75 1.75.784 1.75 1.75zm-1.75-22c-1.104 0-2 .896-2 2s.896 2 2 2 2-.896 2-2-.896-2-2-2zm10 10.75c.689 0 1.249.561 1.249 1.25 0 .69-.56 1.25-1.249 1.25-.69 0-1.249-.559-1.249-1.25 0-.689.559-1.25 1.249-1.25zm-22 1.25c0 1.105.896 2 2 2s2-.895 2-2c0-1.104-.896-2-2-2s-2 .896-2 2zm19-8c.551 0 1 .449 1 1 0 .553-.449 1.002-1 1-.551 0-1-.447-1-.998 0-.553.449-1.002 1-1.002zm0 13.5c.828 0 1.5.672 1.5 1.5s-.672 1.501-1.502 1.5c-.826 0-1.498-.671-1.498-1.499 0-.829.672-1.501 1.5-1.501zm-14-14.5c1.104 0 2 .896 2 2s-.896 2-2.001 2c-1.103 0-1.999-.895-1.999-2s.896-2 2-2zm0 14c1.104 0 2 .896 2 2s-.896 2-2.001 2c-1.103 0-1.999-.895-1.999-2s.896-2 2-2z"})):r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"white"},r.a.createElement("path",{d:"M7.33 24l-2.83-2.829 9.339-9.175-9.339-9.167 2.83-2.829 12.17 11.996z"})))))};function La(){var e=Object(d.a)(["\n  mutation startPhoneVerification($phoneNumber: String!) {\n    StartPhoneVerification(phoneNumber: $phoneNumber) {\n      ok\n      error\n    }\n  }\n"]);return La=function(){return e},e}var Ta=Object(u.a)(La()),Ba=function(e){function n(){return Object(h.a)(this,n),Object(v.a)(this,Object(O.a)(n).apply(this,arguments))}return Object(j.a)(n,e),n}(c.b),Ua=function(e){function n(){var e,a;Object(h.a)(this,n);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(a=Object(v.a)(this,(e=Object(O.a)(n)).call.apply(e,[this].concat(r)))).state={countryCode:"+82",phoneNumber:""},a.phoneMutation=void 0,a.onInputChange=function(e){var n=e.target,t=n.name,r=n.value;a.setState(Object(g.a)({},t,r))},a.onSubmit=function(e){e.preventDefault();var n=a.state,t=n.countryCode,r=n.phoneNumber,o="".concat(t).concat(r);/^\+[1-9]{1}[0-9]{7,11}$/.test(o)?a.phoneMutation():ae.b.error("Please write a valid phone number")},a}return Object(j.a)(n,e),Object(b.a)(n,[{key:"render",value:function(){var e=this,n=this.props.history,a=this.state,t=a.countryCode,o=a.phoneNumber;return r.a.createElement(Ba,{mutation:Ta,variables:{phoneNumber:"".concat(t).concat(o)},onCompleted:function(e){var a=e.StartPhoneVerification,r="".concat(t).concat(o);a.ok?(ae.b.success("success SMS send ! Redirecting you...."),setTimeout(function(){n.push({pathname:"/verify-phone",state:{phone:r}})},2e3)):ae.b.error(a.error)}},function(n,a){var i=a.loading;return e.phoneMutation=n,r.a.createElement(Fa,{countryCode:t,phoneNumber:o,onInputChange:e.onInputChange,onSubmit:e.onSubmit,loading:i})})}}]),n}(r.a.Component);function $a(){var e=Object(d.a)(["\n  mutation editPlace($placeId: Int!, $isFav: Boolean) {\n    EditPlace(placeId: $placeId, isFav: $isFav) {\n      ok\n      error\n    }\n  }\n"]);return $a=function(){return e},e}var za=Object(u.a)($a());function Ka(){var e=Object(d.a)(["\n  color: ",";\n  font-size: 14px;\n"]);return Ka=function(){return e},e}function qa(){var e=Object(d.a)(["\n  cursor: pointer;\n"]);return qa=function(){return e},e}function Va(){var e=Object(d.a)(["\n  display: block;\n"]);return Va=function(){return e},e}function Ha(){var e=Object(d.a)(["\n  margin-left: 10px;\n"]);return Ha=function(){return e},e}function Wa(){var e=Object(d.a)(["\n  margin: 15px 0;\n  display: flex;\n  align-items: center;\n  & i {\n    font-size: 12px;\n  }\n"]);return Wa=function(){return e},e}var Qa=S.div(Wa()),Ja=S.div(Ha()),Za=S.span(Va()),Ya=S.span(qa()),Xa=S.span(Ka(),function(e){return e.theme.greyColor}),et=function(e){var n=e.fav,a=e.name,t=e.address,o=e.onStarPress;return r.a.createElement(Qa,null,r.a.createElement(Ya,{onClick:o},n?"\u2605":"\u2729"),r.a.createElement(Ja,null,r.a.createElement(Za,null,a),r.a.createElement(Xa,null,t)))},nt=function(e){function n(){return Object(h.a)(this,n),Object(v.a)(this,Object(O.a)(n).apply(this,arguments))}return Object(j.a)(n,e),n}(c.b),at=function(e){function n(){return Object(h.a)(this,n),Object(v.a)(this,Object(O.a)(n).apply(this,arguments))}return Object(j.a)(n,e),Object(b.a)(n,[{key:"render",value:function(){var e=this.props,n=e.fav,a=e.name,t=e.address,o=e.id;return r.a.createElement(nt,{mutation:za,variables:{isFav:!n,placeId:o},refetchQueries:[{query:ne}]},function(e){return r.a.createElement(et,{onStarPress:e,fav:n,name:a,address:t})})}}]),n}(r.a.Component);function tt(){var e=Object(d.a)(["\n  text-decoration: underline;\n"]);return tt=function(){return e},e}function rt(){var e=Object(d.a)(["\n  padding: 0 40px;\n"]);return rt=function(){return e},e}var ot=_.default.div(rt()),it=Object(_.default)(f.b)(tt()),ct=function(e){var n=e.placeData.GetMyPlaces,a=e.loading;return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,null,r.a.createElement("title",null,"Places | Uber")),r.a.createElement(L,{backTo:"/",title:"Places"}),r.a.createElement(ot,null,!a&&n.places&&0===n.places.length&&"You have no Places",!a&&n.places&&0!==n.places.length&&n.places.map(function(e){return r.a.createElement(at,{id:e.id,key:e.id,name:e.name,fav:e.isFav,address:e.address})}),r.a.createElement(it,{to:"/add-place"},"Add some places!")))};function lt(){var e=Object(d.a)(["\n    text-decoration: underline;\n  "]);return lt=function(){return e},e}function dt(){var e=Object(d.a)(["\n    padding: 0 40px;\n  "]);return dt=function(){return e},e}var ut=function(e){function n(){var e,a;Object(h.a)(this,n);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(a=Object(v.a)(this,(e=Object(O.a)(n)).call.apply(e,[this].concat(r)))).Container=S.div(dt()),a.SLink=S(f.b)(lt()),a}return Object(j.a)(n,e),n}(c.c),st=function(e){function n(){return Object(h.a)(this,n),Object(v.a)(this,Object(O.a)(n).apply(this,arguments))}return Object(j.a)(n,e),Object(b.a)(n,[{key:"render",value:function(){return r.a.createElement(ut,{query:ne},function(e){var n=e.data,a=e.loading;return n?r.a.createElement(ct,{placeData:n,loading:a}):void 0})}}]),n}(r.a.Component);function mt(){var e=Object(d.a)(["\n  mutation logUserOut {\n    logUserOut @client\n  }\n"]);return mt=function(){return e},e}function ft(){var e=Object(d.a)(["\n  mutation logUserIn($token: String!) {\n    logUserIn(token: $token) @client\n  }\n"]);return ft=function(){return e},e}var pt,gt=Object(u.a)(ft()),bt=Object(u.a)(mt());function ht(){var e=Object(d.a)(["\n  margin-bottom: 30px;\n"]);return ht=function(){return e},e}function vt(){var e=Object(d.a)(["\n  margin: 30px 0px;\n"]);return vt=function(){return e},e}function Ot(){var e=Object(d.a)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 20px;\n"]);return Ot=function(){return e},e}function jt(){var e=Object(d.a)(["\n  border-radius: 50%;\n  margin-right: 20px;\n  max-width: 50px;\n  height: 50px;\n"]);return jt=function(){return e},e}function Et(){var e=Object(d.a)(["\n  color: ",";\n"]);return Et=function(){return e},e}function yt(){var e=Object(d.a)(["\n  font-weight: 800;\n  margin-top: 30px;\n  margin-bottom: 10px;\n  &:first-child {\n    margin-top: 0;\n  }\n"]);return yt=function(){return e},e}function _t(){var e=Object(d.a)(["\n  padding: 40px;\n"]);return _t=function(){return e},e}!function(e){e.ACCEPTED="ACCEPTED",e.CANCELED="CANCELED",e.FINISHED="FINISHED",e.ONROUTE="ONROUTE",e.REQUESTING="REQUESTING"}(pt||(pt={}));var xt=S.div(_t()),kt=S.h4(yt()),Ct=S.span(Et(),function(e){return e.theme.blueColor}),St=S.img(jt()),It=S.div(Ot()),wt=S.div(vt()),Nt=S($)(ht()),Mt=function(e){var n=e.data,a=e.userData,t=e.updateRideFn,o=e.loading,i=pt.ONROUTE,c=pt.FINISHED,l=n.GetRide,d=a.GetMyProfile;return r.a.createElement(xt,null,!o&&l.ride&&d.user&&r.a.createElement(r.a.Fragment,null,r.a.createElement(kt,null,"Passenger"),r.a.createElement(It,null,r.a.createElement(St,{src:l.ride.passenger.profilePhoto}),r.a.createElement(Ct,null,l.ride.passenger.fullName)),l.ride.driver&&r.a.createElement(r.a.Fragment,null,r.a.createElement(kt,null,"Driver"),r.a.createElement(It,null,r.a.createElement(St,{src:l.ride.driver.profilePhoto}),r.a.createElement(Ct,null,l.ride.driver.fullName))),r.a.createElement(kt,null,"From"),r.a.createElement(Ct,null,l.ride.pickUpAddress),r.a.createElement(kt,null,"To"),r.a.createElement(Ct,null,l.ride.dropOffAddress),r.a.createElement(kt,null,"Price"),r.a.createElement(Ct,null,l.ride.price),r.a.createElement(kt,null,"Distance"),r.a.createElement(Ct,null,l.ride.distance),r.a.createElement(kt,null,"Duration"),r.a.createElement(Ct,null,l.ride.duration),r.a.createElement(kt,null,"Status"),r.a.createElement(Ct,null,l.ride.status),r.a.createElement(wt,null,l.ride.driver&&l.ride.driver.id===d.user.id&&"ACCEPTED"===l.ride.status&&r.a.createElement(Nt,{value:"Picked Up",onClick:function(){return t({variables:{rideId:Number(l.ride.id),status:i}})}}),l.ride.driver&&l.ride.driver.id===d.user.id&&"ONROUTE"===l.ride.status&&r.a.createElement(Nt,{value:"Finished",onClick:function(){return t({variables:{rideId:Number(l.ride.id),status:c}})}}),"REQUESTING"!==l.ride.status&&r.a.createElement(f.b,{to:"/chat/".concat(l.ride.chatId)},r.a.createElement(Nt,{value:"Chat",onClick:null})))))};function At(){var e=Object(d.a)(["\n  mutation updateRide($rideId: Int!, $status: StatusOptions!) {\n    UpdateRideStatus(rideId: $rideId, status: $status) {\n      ok\n      error\n      rideId\n    }\n  }\n"]);return At=function(){return e},e}function Pt(){var e=Object(d.a)(["\n  subscription rideUpdates {\n    RideStatusSubscription {\n      id\n      status\n      pickUpAddress\n      dropOffAddress\n      price\n      distance\n      duration\n      driver {\n        id\n        fullName\n        profilePhoto\n      }\n      passenger {\n        id\n        fullName\n        profilePhoto\n      }\n      chatId\n    }\n  }\n"]);return Pt=function(){return e},e}function Rt(){var e=Object(d.a)(["\n  query getRide($rideId: Int!) {\n    GetRide(rideId: $rideId) {\n      ok\n      error\n      ride {\n        id\n        status\n        pickUpAddress\n        dropOffAddress\n        price\n        distance\n        duration\n        driver {\n          id\n          fullName\n          profilePhoto\n        }\n        passenger {\n          id\n          fullName\n          profilePhoto\n        }\n        chatId\n      }\n    }\n  }\n"]);return Rt=function(){return e},e}var Gt=Object(u.a)(Rt()),Dt=Object(u.a)(Pt()),Ft=Object(u.a)(At()),Lt=function(e){function n(){return Object(h.a)(this,n),Object(v.a)(this,Object(O.a)(n).apply(this,arguments))}return Object(j.a)(n,e),n}(c.c),Tt=function(e){function n(){return Object(h.a)(this,n),Object(v.a)(this,Object(O.a)(n).apply(this,arguments))}return Object(j.a)(n,e),n}(c.c),Bt=function(e){function n(){return Object(h.a)(this,n),Object(v.a)(this,Object(O.a)(n).apply(this,arguments))}return Object(j.a)(n,e),n}(c.b),Ut=function(e){function n(e){var a;return Object(h.a)(this,n),a=Object(v.a)(this,Object(O.a)(n).call(this,e)),e.match.params.rideId||e.history.push("/"),a}return Object(j.a)(n,e),Object(b.a)(n,[{key:"render",value:function(){var e=this.props.match.params.rideId,n=Number(e);return r.a.createElement(Tt,{query:ee},function(e){var a=e.data;return a?r.a.createElement(Lt,{query:Gt,variables:{rideId:n}},function(e){var t=e.data,o=e.loading;return(0,e.subscribeToMore)({document:Dt,updateQuery:function(e,n){var a=n.subscriptionData;if(!a.data)return e;"FINISHED"===a.data.RideStatusSubscription.status&&(window.location.href="/")}}),t?r.a.createElement(Bt,{mutation:Ft,refetchQueries:[{query:Gt,variables:{rideId:n}}]},function(e){return r.a.createElement(Mt,{userData:a,data:t,loading:o,updateRideFn:e})}):ae.b.error("fuck it")}):ae.b.error("fuck you")})}}]),n}(r.a.Component);function $t(){var e=Object(d.a)(["\n  display: block;\n  text-decoration: underline;\n  margin: 20px 0px;\n"]);return $t=function(){return e},e}function zt(){var e=Object(d.a)(["\n  text-decoration: underline;\n  cursor: pointer;\n"]);return zt=function(){return e},e}function Kt(){var e=Object(d.a)(["\n  display: block;\n  margin-bottom: 5px;\n"]);return Kt=function(){return e},e}function qt(){var e=Object(d.a)([""]);return qt=function(){return e},e}function Vt(){var e=Object(d.a)(["\n  display: grid;\n  grid-template-columns: 1fr 4fr;\n  grid-gap: 10px;\n  margin-bottom: 10px;\n"]);return Vt=function(){return e},e}function Ht(){var e=Object(d.a)(["\n  height: 60px;\n  width: 60px;\n  border-radius: 50%;\n"]);return Ht=function(){return e},e}function Wt(){var e=Object(d.a)(["\n  padding: 0px 40px;\n"]);return Wt=function(){return e},e}var Qt=S.div(Wt()),Jt=S.img(Ht()),Zt=S(f.b)(Vt()),Yt=S.div(qt()),Xt=S.span(Kt()),er=S.span(zt()),nr=S(f.b)($t()),ar=function(e){var n=e.logUserOut,a=e.userData.GetMyProfile,t=e.userDataLoading,o=e.placesLoading,i=e.placesData.GetMyPlaces;return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,null,r.a.createElement("title",null,"Settings | Uber")),r.a.createElement(L,{title:"Account Settings",backTo:"/"}),r.a.createElement(Qt,null,r.a.createElement(Zt,{to:"/edit-account"},!t&&a&&a.user&&a.user.fullName&&a.user&&a.user.email&&a.user.profilePhoto&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Jt,{src:a.user.profilePhoto}),r.a.createElement(Yt,null,r.a.createElement(Xt,null,a.user.fullName),r.a.createElement(Xt,null,a.user.email)))),!o&&i.places&&i.places.map(function(e){return r.a.createElement(at,{id:e.id,key:e.id,fav:e.isFav,name:e.name,address:e.address})}),r.a.createElement(nr,{to:"/places"},"Go to Places"),r.a.createElement(er,{onClick:n},"Log Out")))},tr=function(e){function n(){return Object(h.a)(this,n),Object(v.a)(this,Object(O.a)(n).apply(this,arguments))}return Object(j.a)(n,e),n}(c.c),rr=function(e){function n(){return Object(h.a)(this,n),Object(v.a)(this,Object(O.a)(n).apply(this,arguments))}return Object(j.a)(n,e),n}(c.c),or=function(e){function n(){return Object(h.a)(this,n),Object(v.a)(this,Object(O.a)(n).apply(this,arguments))}return Object(j.a)(n,e),Object(b.a)(n,[{key:"render",value:function(){return r.a.createElement(c.b,{mutation:bt},function(e){return r.a.createElement(tr,{query:ee},function(n){var a=n.data,t=n.loading;return a?r.a.createElement(rr,{query:ne},function(n){var o=n.data,i=n.loading;return o?r.a.createElement(ar,{logUserOut:e,userData:a,userDataLoading:t,placesData:o,placesLoading:i}):void 0}):void 0})})}}]),n}(r.a.Component);function ir(){var e=Object(d.a)(["\n  margin-bottom: 20px;\n"]);return ir=function(){return e},e}function cr(){var e=Object(d.a)(["\n  padding: 0px 40px;\n"]);return cr=function(){return e},e}function lr(){var e=Object(d.a)([""]);return lr=function(){return e},e}var dr=S.div(lr()),ur=S(T)(cr()),sr=S(N)(ir()),mr=function(e){var n=e.verificationKey,a=e.onChange,t=e.onSubmit,o=e.loading;return r.a.createElement(dr,null,r.a.createElement(y.a,null,r.a.createElement("title",null,"Verify Phone | Number")),r.a.createElement(L,{backTo:"/phone-login",title:"Verify Phone Number"}),r.a.createElement(ur,{submitFn:t},r.a.createElement(sr,{value:n,placeholder:"Enter Verification Code",onChange:a,name:"verificationKey"}),r.a.createElement($,{disabled:o,value:o?"Verifying":"Submit",onClick:null})))};function fr(){var e=Object(d.a)(["\n  mutation verifyPhone($key: String!, $phoneNumber: String!) {\n    CompletePhoneVerification(key: $key, phoneNumber: $phoneNumber) {\n      ok\n      error\n      token\n    }\n  }\n"]);return fr=function(){return e},e}var pr=Object(u.a)(fr()),gr=function(e){function n(){return Object(h.a)(this,n),Object(v.a)(this,Object(O.a)(n).apply(this,arguments))}return Object(j.a)(n,e),n}(c.b),br=function(e){function n(e){var a;return Object(h.a)(this,n),(a=Object(v.a)(this,Object(O.a)(n).call(this,e))).onInputChange=function(e){var n=e.target,t=n.name,r=n.value;a.setState(Object(g.a)({},t,r))},e.location.state||e.history.push("/"),a.state={phoneNumber:e.location.state.phone,verificationKey:""},a}return Object(j.a)(n,e),Object(b.a)(n,[{key:"render",value:function(){var e=this,n=this.state,a=n.verificationKey,t=n.phoneNumber;return r.a.createElement(c.b,{mutation:gt},function(n){return r.a.createElement(gr,{mutation:pr,variables:{key:a,phoneNumber:t},onCompleted:function(e){var a=e.CompletePhoneVerification;a.ok?(a.token&&n({variables:{token:a.token}}),ae.b.success("You're verified, loggin in now")):ae.b.error(a.error)}},function(n,t){var o=t.loading;return r.a.createElement(mr,{onSubmit:n,onChange:e.onInputChange,verificationKey:a,loading:o})})})}}]),n}(r.a.Component),hr=a(87),vr=a.n(hr);function Or(){var e=Object(d.a)(["\n  position: absolute;\n  top: 20px;\n  left: 20px;\n"]);return Or=function(){return e},e}function jr(){var e=Object(d.a)(["\n  margin-right: 10px;\n"]);return jr=function(){return e},e}function Er(){var e=Object(d.a)(["\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n"]);return Er=function(){return e},e}function yr(){var e=Object(d.a)(["\n  font-size: 25px;\n  margin-bottom: 40px;\n"]);return yr=function(){return e},e}function _r(){var e=Object(d.a)(["\n  margin-top: 30px;\n  padding: 50px 20px;\n"]);return _r=function(){return e},e}var xr=_.default.div(_r()),kr=_.default.h2(yr()),Cr=_.default.span(Er()),Sr=_.default.span(jr()),Ir=Object(_.default)(P)(Or()),wr=function(e){var n=e.loginCallback;return r.a.createElement(xr,null,r.a.createElement(y.a,null,r.a.createElement("title",null,"Social Login")),r.a.createElement(kr,null,"Choose an account"),r.a.createElement(Ir,{backTo:"/"}),r.a.createElement(vr.a,{appId:"2285620218363779",autoLoad:!1,fields:"name,first_name,last_name,email",callback:n,render:function(e){return r.a.createElement(Cr,{onClick:e.onClick},r.a.createElement(Sr,null,r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"#344EA1"},r.a.createElement("path",{d:"M22.675 0h-21.35c-.732 0-1.325.593-1.325 1.325v21.351c0 .731.593 1.324 1.325 1.324h11.495v-9.294h-3.128v-3.622h3.128v-2.671c0-3.1 1.893-4.788 4.659-4.788 1.325 0 2.463.099 2.795.143v3.24l-1.918.001c-1.504 0-1.795.715-1.795 1.763v2.313h3.587l-.467 3.622h-3.12v9.293h6.116c.73 0 1.323-.593 1.323-1.325v-21.35c0-.732-.593-1.325-1.325-1.325z"}))),"Facebook")}}))};function Nr(){var e=Object(d.a)(["\n  mutation facebookConnect(\n    $firstName: String!\n    $lastName: String!\n    $fbId: String!\n    $email: String\n  ) {\n    FacebookConnect(\n      firstName: $firstName\n      lastName: $lastName\n      fbId: $fbId\n      email: $email\n    ) {\n      ok\n      error\n      token\n    }\n  }\n"]);return Nr=function(){return e},e}var Mr=Object(u.a)(Nr()),Ar=function(e){function n(){return Object(h.a)(this,n),Object(v.a)(this,Object(O.a)(n).apply(this,arguments))}return Object(j.a)(n,e),n}(c.b),Pr=function(e){function n(){var e,a;Object(h.a)(this,n);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(a=Object(v.a)(this,(e=Object(O.a)(n)).call.apply(e,[this].concat(r)))).state={firstName:"",lastName:"",fbId:"",email:""},a.facebookMutation=void 0,a.callBack=function(e){var n=e.name,t=e.first_name,r=e.last_name,o=e.email,i=e.id;e.accessToken?(ae.b.success("Welcome ".concat(n,"!")),a.facebookMutation({variables:{email:o,fbId:i,firstName:t,lastName:r}})):ae.b.error("Could not log you in \ud83d\ude13")},a}return Object(j.a)(n,e),Object(b.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(c.b,{mutation:gt},function(n){return r.a.createElement(Ar,{mutation:Mr,onCompleted:function(e){var a=e.FacebookConnect;a.ok?n({variables:{token:a.token}}):ae.b.error(a.error)}},function(n,a){a.loading;return e.facebookMutation=n,r.a.createElement(wr,{loginCallback:e.callBack})})})}}]),n}(r.a.Component);function Rr(){var e=Object(d.a)(["\n  position: absolute;\n  width: 40px;\n  height: 40px;\n  z-index: 2;\n  font-size: 30px;\n  margin: auto;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n"]);return Rr=function(){return e},e}function Gr(){var e=Object(d.a)(["\n  position: absolute;\n  bottom: 50px;\n  left: 0;\n  right: 0;\n  margin: auto;\n  z-index: 10;\n  height: auto;\n  width: 80%;\n"]);return Gr=function(){return e},e}function Dr(){var e=Object(d.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n"]);return Dr=function(){return e},e}var Fr=S.div(Dr()),Lr=S($)(Gr()),Tr=S.div(Rr()),Br=function(e){function n(){return Object(h.a)(this,n),Object(v.a)(this,Object(O.a)(n).apply(this,arguments))}return Object(j.a)(n,e),Object(b.a)(n,[{key:"render",value:function(){var e=this.props,n=e.mapRef,a=e.address,t=e.onChange,o=e.onBlur,i=e.onPickPlace;return r.a.createElement("div",null,r.a.createElement(y.a,null,r.a.createElement("title",null,"Find Address | Uber")),r.a.createElement(rn,{name:"address",value:a,onChange:t,onBlur:o}),r.a.createElement(Lr,{value:"Pick this place",onClick:i}),r.a.createElement(Tr,null,"\ud83d\udccd"),r.a.createElement(Fr,{ref:n}))}}]),n}(r.a.Component),Ur=function(e){function n(e){var a;return Object(h.a)(this,n),(a=Object(v.a)(this,Object(O.a)(n).call(this,e))).mapRef=void 0,a.map=void 0,a.state={lat:0,lng:0,address:""},a.handleGeoSuccess=function(){var e=Object(ce.a)(ie.a.mark(function e(n){var t,r,o;return ie.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=n.coords,r=t.latitude,o=t.longitude,a.setState({lat:r,lng:o}),a.loadMap(r,o),a.reverseGeocoding(r,o);case 4:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}(),a.handleGeoFail=function(){},a.loadMap=function(e,n){var t=a.props.google.maps,r=i.a.findDOMNode(a.mapRef.current),o={center:{lat:e,lng:n},disableDefaultUI:!0,minZoom:8,zoom:15};a.map=new t.Map(r,o),a.map.addListener("dragend",a.handleDragEnd)},a.handleDragEnd=Object(ce.a)(ie.a.mark(function e(){var n,t,r;return ie.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=a.map.getCenter(),t=n.lat(),r=n.lng(),a.setState({lat:t,lng:r}),a.reverseGeocoding(t,r);case 5:case"end":return e.stop()}},e)})),a.onInputChange=function(e){var n=e.target,t=n.name,r=n.value;a.setState(Object(g.a)({},t,r))},a.onInputBlur=Object(ce.a)(ie.a.mark(function e(){var n,t,r,o;return ie.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wn(a.state.address);case 2:if(!(n=e.sent)){e.next=9;break}t=n.lat,r=n.lng,o=n.formatted_address,a.setState({lat:t,lng:r,address:o}),a.map.panTo({lat:t,lng:r}),e.next=10;break;case 9:return e.abrupt("return");case 10:case"end":return e.stop()}},e)})),a.reverseGeocoding=function(){var e=Object(ce.a)(ie.a.mark(function e(n,t){var r;return ie.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nn(n,t);case 2:(r=e.sent)&&a.setState({address:r});case 4:case"end":return e.stop()}},e)}));return function(n,a){return e.apply(this,arguments)}}(),a.onPickPlace=function(){var e=a.state,n=e.lat,t=e.lng,r=e.address;a.props.history.push({pathname:"/add-place",state:{lat:n,lng:t,address:r}})},a.mapRef=r.a.createRef(),a}return Object(j.a)(n,e),Object(b.a)(n,[{key:"componentDidMount",value:function(){navigator.geolocation.getCurrentPosition(this.handleGeoSuccess,this.handleGeoFail)}},{key:"render",value:function(){return r.a.createElement(Br,{mapRef:this.mapRef,address:this.state.address,onBlur:this.onInputBlur,onChange:this.onInputChange,onPickPlace:this.onPickPlace})}}]),n}(r.a.Component),$r=Object(we.GoogleApiWrapper)({apiKey:In})(Ur),zr=a(91);function Kr(){var e=Object(d.a)(["\n  background-color: ",";\n  color: white;\n  padding: 10px 20px;\n  border-radius: 20px;\n  align-self: ",";\n  border-bottom-right-radius: ",";\n  border-bottom-left-radius: ",";\n  margin-bottom: 10px;\n"]);return Kr=function(){return e},e}var qr=S.div(Kr(),function(e){return e.mine?e.theme.blueColor:e.theme.greyColor},function(e){return e.mine?"flex-end":"flex-start"},function(e){return e.mine?"0px":"20px"},function(e){return e.mine?"20px":"0px"}),Vr=function(e){var n=e.text,a=e.mine;return r.a.createElement(qr,{mine:a},n)};function Hr(){var e=Object(d.a)(["\n  padding: 0 20px;\n"]);return Hr=function(){return e},e}function Wr(){var e=Object(d.a)(["\n  height: 80vh;\n  overflow: scroll;\n  padding: 0 20px;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n"]);return Wr=function(){return e},e}function Qr(){var e=Object(d.a)([""]);return Qr=function(){return e},e}var Jr=S.div(Qr()),Zr=S.div(Wr()),Yr=S.div(Hr()),Xr=function(e){var n=e.chatData,a=e.loading,t=e.userData,o=e.onInputChange,i=e.onSubmit,c=e.messageText,l=n.GetChat,d=t.GetMyProfile;return r.a.createElement(Jr,null,r.a.createElement(L,{title:"Chat"}),!a&&d&&d.user&&l.chat&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Zr,null,l.chat.messages&&l.chat.messages.map(function(e){return e?r.a.createElement(Vr,{key:e.id,text:e.text,mine:d.user.id===e.userId}):null})),r.a.createElement(Yr,null,r.a.createElement(T,{submitFn:i},r.a.createElement(N,{value:c,placeholder:"Type your Message",onChange:o,name:"message"})))))};function eo(){var e=Object(d.a)(["\n  subscription messageSubscription {\n    MessageSubscription {\n      id\n      text\n      userId\n    }\n  }\n"]);return eo=function(){return e},e}function no(){var e=Object(d.a)(["\n  mutation sendMessage($chatId: Int!, $text: String!) {\n    SendChatMessages(chatId: $chatId, text: $text) {\n      ok\n      error\n      message {\n        id\n        text\n        userId\n      }\n    }\n  }\n"]);return no=function(){return e},e}function ao(){var e=Object(d.a)(["\n  query getChat($chatId: Int!) {\n    GetChat(chatId: $chatId) {\n      ok\n      error\n      chat {\n        passengerId\n        driverId\n        messages {\n          id\n          text\n          userId\n        }\n      }\n    }\n  }\n"]);return ao=function(){return e},e}var to=Object(u.a)(ao()),ro=Object(u.a)(no()),oo=Object(u.a)(eo()),io=function(e){function n(){return Object(h.a)(this,n),Object(v.a)(this,Object(O.a)(n).apply(this,arguments))}return Object(j.a)(n,e),n}(c.c),co=function(e){function n(){return Object(h.a)(this,n),Object(v.a)(this,Object(O.a)(n).apply(this,arguments))}return Object(j.a)(n,e),n}(c.c),lo=function(e){function n(){return Object(h.a)(this,n),Object(v.a)(this,Object(O.a)(n).apply(this,arguments))}return Object(j.a)(n,e),n}(c.b),uo=function(e){function n(e){var a;return Object(h.a)(this,n),(a=Object(v.a)(this,Object(O.a)(n).call(this,e))).sendMessageFn=void 0,a.onInputChange=function(e){var n=e.target,t=n.name,r=n.value;a.setState(Object(g.a)({},t,r))},a.onSubmit=function(){var e=a.props.match.params.chatId,n=a.state.message,t=Number(e);if(""!==n)return a.setState({message:""}),void a.sendMessageFn({variables:{chatId:t,text:n}})},e.match.params.chatId||e.history.push("/"),a.state={message:""},a}return Object(j.a)(n,e),Object(b.a)(n,[{key:"render",value:function(){var e=this,n=this.props.match.params.chatId,a=this.state.message,t=Number(n);return r.a.createElement(co,{query:ee},function(n){var o=n.data;return o?r.a.createElement(io,{query:to,variables:{chatId:t}},function(n){var t=n.data,i=n.loading,c=n.subscribeToMore;return t?(c({document:oo,updateQuery:function(e,n){var a=n.subscriptionData;if(!a.data)return e;var t=a.data.MessageSubscription,r=e.GetChat.chat.messages;return t.id!==r[r.length-1].id?Object.assign({},e,{GetChat:Object(Ne.a)({},e.GetChat,{chat:Object(Ne.a)({},e.GetChat.chat,{messages:[].concat(Object(zr.a)(e.GetChat.chat.messages),[t])})})}):void 0}}),r.a.createElement(lo,{mutation:ro},function(n){return e.sendMessageFn=n,r.a.createElement(Xr,{chatData:t,userData:o,loading:i,onInputChange:e.onInputChange,onSubmit:e.onSubmit,messageText:a})})):ae.b.error("no chat data")}):ae.b.error("no userData in cache")})}}]),n}(r.a.Component),so=function(){return r.a.createElement(p.d,null,r.a.createElement(p.b,{path:"/",exact:!0,component:Ea}),r.a.createElement(p.b,{path:"/phone-login",component:Ua}),r.a.createElement(p.b,{path:"/verify-phone",component:br}),r.a.createElement(p.b,{path:"/social-login",component:Pr}),r.a.createElement(p.a,{from:"*",to:"/"}))},mo=function(){return r.a.createElement(p.d,null,r.a.createElement(p.b,{path:"/",exact:!0,component:Jn}),r.a.createElement(p.b,{path:"/ride/:rideId",exact:!0,component:Ut}),r.a.createElement(p.b,{path:"/add-place",exact:!0,component:re}),r.a.createElement(p.b,{path:"/chat/:chatId",exact:!0,component:uo}),r.a.createElement(p.b,{path:"/edit-account",exact:!0,component:Ie}),r.a.createElement(p.b,{path:"/places",exact:!0,component:st}),r.a.createElement(p.b,{path:"/settings",exact:!0,component:or}),r.a.createElement(p.b,{path:"/find-address",exact:!0,component:$r}),r.a.createElement(p.a,{from:"*",to:"/"}))},fo=function(e){var n=e.isLoggedIn;return r.a.createElement(f.a,null,n?r.a.createElement(mo,null):r.a.createElement(so,null),";")},po={blueColor:"#3498db",greyColor:"#7f8c8d",greenColor:"#1abc9c",yellowColor:"#f1c40f"},go=(a(152),Object(c.d)(m)(function(e){var n=e.data;return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.ThemeProvider,{theme:po},r.a.createElement(fo,{isLoggedIn:n.auth.isLoggedIn})),r.a.createElement(ae.a,{draggable:!0,position:"top-right"}))})),bo=a(88),ho=a.n(bo);function vo(){var e=Object(d.a)(["\n@import url('https://fonts.googleapis.com/css?family=Maven+Pro');\n\n",'\n* {\n    box-sizing : border-box;\n}\nbody {\n    font-family : -apple-system,system-ui,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;\n}\na {\n    color : inherit;\n    text-decoration : none;\n}\ninput, button {\n    &:focus, &:active{outline:none}\n}\nh1,h2,h3,h4,h5,h6 {\n    font-family:\'Maven Pro\', sans-serif;\n}\n\n']);return vo=function(){return e},e}var Oo=C(vo(),ho.a),jo=a(36),Eo=a(30),yo=a(16),_o=a(44),xo=a(38),ko=a(92),Co=a(90),So=a(4),Io=function(){var e=localStorage.getItem("jwt");return e||""},wo=new jo.a,No=new yo.a(function(e,n){return e.setContext({headers:{"X-JWT":Io()}}),n(e)}),Mo=new xo.a({uri:"https://choddol-uber-clone.herokuapp.com/graphql"}),Ao=new Co.a({options:{connectionParams:{"X-JWT":Io()},reconnect:!0},uri:"ws://choddol-uber-clone.herokuapp.com/subscriptions"}),Po=Object(yo.e)(function(e){var n=e.query,a=Object(So.getMainDefinition)(n),t=a.kind,r=a.operation;return"OperationDefinition"===t&&"subscription"===r},Ao,Mo),Ro=Object(_o.a)(function(e){var n=e.graphQLErrors,a=e.networkError;if(n)n.map(function(e){var n=e.message;ae.b.error("Unexpected error : ".concat(n))});else if(a)return void ae.b.error("Network error : ".concat(a))}),Go=Object(ko.a)({cache:wo,defaults:{auth:{__typename:"Auth",isLoggedIn:Boolean(localStorage.getItem("jwt"))}},resolvers:{Mutation:{logUserIn:function(e,n,a){var t=n.token,r=a.cache;return localStorage.setItem("jwt",t),r.writeData({data:{auth:{__typename:"Auth",isLoggedIn:!0}}}),null},logUserOut:function(e,n,a){var t=a.cache;return localStorage.removeItem("jwt"),t.writeData({data:{auth:{__typename:"Auth",isLoggedIn:!1}}}),null}}}}),Do=new Eo.a({cache:wo,link:yo.a.from([Ro,Go,Object(yo.b)(No,Po)])});i.a.render(r.a.createElement(c.a,{client:Do},r.a.createElement(l.a,{client:Do},r.a.createElement(go,null),r.a.createElement(Oo,null))),document.getElementById("root"))},86:function(e,n,a){e.exports=a.p+"static/media/bg.f1662d11.png"},96:function(e,n,a){e.exports=a(162)}},[[96,1,2]]]);
//# sourceMappingURL=main.187a9259.chunk.js.map